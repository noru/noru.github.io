{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2019-12-31","result":{"data":{"markdownRemark":{"html":"<p>2019 收官之作!</p>\n<p>最近 DCS 好像最近上线了 JF-17 的模组, youtube 上到处都是它的 DCS 视频. 貌似还广受好评, 好像 JF-17 前一阵首杀米格-21 和疑似首杀 Su-30 的战果让其大出风头. 巴铁还给其做了个网站: <a href=\"http://www.jf-17.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jf-17.com</a>. 可以可以, 祝大卖.</p>\n<p><img src=\"/assets/image/jf-17/box.jpg\" alt=\"box\"></p>\n<h3 id=\"overview-8510\" style=\"position:relative;\"><a href=\"#overview-8510\" aria-label=\"overview 8510 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview (8.5/10)</h3>\n<p>板件质量很良心. 虽然小小一盒, 但板件满满的. 细节方面, 对于 72 比例来说已经是很多甚至有点过于多了. 组合度赶不上田宫的 F-16 但是也非常不错, 无需额外补土. 水贴细节非常多, 属于偏薄型, 大部分一沾水就下来, 但是对于那条细长的闪电确实有些过于薄了, 不太好施工. 金属蚀刻片的尾喷管, 由于是第一次做这部件, 不确定质量, 只是觉得由于尺寸的缘故喷管叶片上有些对不齐. 外加上 50 块不到的价格, 可以说是非常好的产品了. 细节上面还是美能做到尽善尽美, 比如刻线的深浅不一. 这方面如果能努力提升一下的话, 还是能够跟日本厂有的一拼.</p>\n<h3 id=\"制作\" style=\"position:relative;\"><a href=\"#%E5%88%B6%E4%BD%9C\" aria-label=\"制作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>制作</h3>\n<p>座舱盖本来有一道爆破索, 但是被我当做合模线磨掉了...真是自作聪明. 水贴贴到眼睛爆炸, 72 比例的轻型机, 水贴竟然配满了了各种文字. 标志性的红配绿国旗的涂装虽然抓人眼球, 但个人实在欣赏不来, 还是老老实实的 H308. 其他就没什么好讲, 正常发挥.</p>\n<h3 id=\"成品\" style=\"position:relative;\"><a href=\"#%E6%88%90%E5%93%81\" aria-label=\"成品 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>成品</h3>\n<p><img src=\"/assets/image/jf-17/1.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/2.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/3.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/4.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/5.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/6.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/7.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/8.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/jf-17/9.jpg\" alt=\"box\"></p>\n<h3 id=\"后话\" style=\"position:relative;\"><a href=\"#%E5%90%8E%E8%AF%9D\" aria-label=\"后话 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后话</h3>\n<p>该机最新型号好像到了 Block3, 超越自己的同时, 性能也直逼 F16 后期型, 还交付了除巴铁之外的国家. 不知道 J-10CE 作何感想. 总之未来可期, 放一张其与战友和对手的合照结束吧.</p>\n<p><img src=\"/assets/image/jf-17/wf16.jpg\" alt=\"box\"></p>","fields":{"slug":"2019-12-31"},"frontmatter":{"title":"小号手JF-17 Thounder/FC-1枭龙 1:72 (01657)","date":"31.12.2019","category":"ScaleModel","tags":["飞机","现代","中","1:72"],"banner":"/assets/image/jf-17/5.jpg"},"timeToRead":1}},"pageContext":{"slug":"2019-12-31","prev":{"excerpt":"SEO 作为 Growth 团队的重要一环, 成了我现在对前端项目的主要优化方向. 除了一些常规内容(TDK, sitemap, robots.txt)的优化, 手头上的一个 SPA 项目也是工作重点: 这个项目信息多, 链接多, 是索引的重点. 那为什么不一开始就放弃 SPA 走 SSR? 原因是立项之初有此页面并不向公众开放, API 需要登录认证才可访问. 后续, API 随着策略调整放开了身份验证. 因此, SEO 的需求也就接踵而至. 对 SPA 的 SEO…","html":"<p>SEO 作为 Growth 团队的重要一环, 成了我现在对前端项目的主要优化方向. 除了一些常规内容(TDK, sitemap, robots.txt)的优化, 手头上的<a href=\"https://www.airwallex.com.cn/guides/payout\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">一个 SPA 项目</a>也是工作重点: 这个项目信息多, 链接多, 是索引的重点.</p>\n<p>那为什么不一开始就放弃 SPA 走 SSR? 原因是立项之初有此页面并不向公众开放, API 需要登录认证才可访问. 后续, API 随着策略调整放开了身份验证. 因此, SEO 的需求也就接踵而至.</p>\n<p>对 SPA 的 SEO 优化的常规解决方案, 就是在构建过程中加入截取<code class=\"language-text\">snapshot</code>的任务. 无论是<a href=\"https://github.com/geelen/react-snapshot\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-snapshot</a>还是<a href=\"https://github.com/markdalgleish/static-site-generator-webpack-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Webpeck 插件</a>还是<a href=\"https://github.com/stereobooster/react-snap/blob/master/doc/alternatives.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">其他什么方案</a>, 其原理都基本相同, 无非是采用无头浏览器渲染(prerendering)还是直接<code class=\"language-text\">renderToString()</code>(snapshoting)的区别. <a href=\"https://github.com/stereobooster/react-snap/blob/master/doc/alternatives.md#prerendering-snapshotting\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">两者优缺点</a>也很明显. 共同的问题就是, 对现有项目都有着多多少少的侵入性. 在亲自上手体验各个方案的过程中发生了非常多的幺蛾子, 让人很不愉快.</p>\n<p>所以打算自己动手实现一下这个项目的预渲染 + 后期优化. 当然还有一个策略是将整个项目迁移至 SSR 框架下, 虽然迁移本身并不一定是很大的工作了, 但考虑到随之而来的构建部署相关的影响...就不考虑了.</p>\n<h2 id=\"first-things-first\" style=\"position:relative;\"><a href=\"#first-things-first\" aria-label=\"first things first permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>First things first...</h2>\n<p>项目本身不是纯静态页面, 而是链接 CMS 系统, 根据 API 返回数据渲染页面. 同时另一主要目标是侵入性减到最小. 由此, 选用无头浏览器(puppeteer)对一个路径列表进行爬取是比较合适的方案.</p>\n<p>这里直接用 node 写个简单的爬虫即可:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> startDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> PATHs<span class=\"token punctuation\">.</span>length\n  <span class=\"token keyword\">const</span> <span class=\"token constant\">USER_AGENT</span> <span class=\"token operator\">=</span> <span class=\"token string\">'Mozilla/5.0 (X11 Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3239.108 Safari/537.36'</span>\n  <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> pages <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> length<span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> <span class=\"token function-variable function\">runner</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">page</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>PATHs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">RenderOnePage</span><span class=\"token punctuation\">(</span>PATHs<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>pages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>runner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Total </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>total<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> pages exported. Time elapsed </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> startDate<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">s</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>代码比较简单. <code class=\"language-text\">PATH</code>是项目中所有需要爬取的路径, 这里是 128 个国家*三个页面 + 两个功能页; <code class=\"language-text\">RenderOnePage()</code>即为使用<code class=\"language-text\">puppeteer</code>模拟<code class=\"language-text\">打开页面</code>-><code class=\"language-text\">访问网址</code>-><code class=\"language-text\">等待页面加载完成</code>-><code class=\"language-text\">操作DOM</code>-><code class=\"language-text\">输出html文件</code>的流程.</p>\n<p><code class=\"language-text\">操作DOM</code>的过程中, 根据页面内容动态添加了 TDK(title, description, keywords)元信息. 也可以做一些其他奇奇怪怪的事情(如下面介绍 👇).</p>\n<p>需要说明的是, 近 400 个网页每个 3 秒的时间爬取是个比较漫长的过程. 于是这里做了点优化: 模拟同时打开 10 个 tab 页进行抓取. 把整个抓取时间降到 120 秒左右.</p>\n<p>整个过程波澜不惊, 文件输出顺利. 剩下的过程就是把这些 html 文件上传至阿里云的 OSS, 然后再服务器端做一个简单的请求转发即可(注意区分 html 和其他 assets 即可).</p>\n<p>事情到这里其实已经完成了对 SPA 项目的基本 SEO 的需求.</p>\n<h2 id=\"but\" style=\"position:relative;\"><a href=\"#but\" aria-label=\"but permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>But...</h2>\n<p>事情当然不可能那么简单. 虽然页面显示结果已经与正常网页无异, 但会出现:</p>\n<ul>\n<li>页面闪烁: 因为 react 会重新填充页面, 将已经预渲染的内容移除.</li>\n<li>首次访问中获取数据的 API 依然会被触发: 无疑浪费了预渲染的工作.</li>\n</ul>\n<p>第一个问题不容易察觉, 且容易解决. 因为<code class=\"language-text\">react-dom</code>为此专门提供<a href=\"https://reactjs.org/docs/react-dom.html#hydrate\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">hydrate</code>方法</a>, 用之代替<code class=\"language-text\">render</code>即可. 简而言之, 此方法会尝试与 DOM 中已有的元素建立绑定关系(如, 事件), 而不是直接塞进新元素.</p>\n<p>第二个问题则麻烦一点, 由于 API 触发所带来的<code class=\"language-text\">loading</code>等效果, 使预渲染带来的首屏展示速度大打折扣. 解决这个问题取决于项目本身, 如果所有 API 触发都放在了组件生命周期方法中, 那恐怕神仙也救不了了. 但如果用了全局状态管理, 那这个问题就退化成一个如何初始化全局状态的问题了.</p>\n<p>在初始化全局状态问题之前, 如何获取预渲染中的数据是一个首先需要解决的问题. 这里我首先想到了<code class=\"language-text\">nextjs</code>的做法: 在 dom 中渲染一个不显示的节点存放序列化之后的数据. 不过即使没有用过 SSR 框架, 这也是一个自然而然的思路吧.</p>\n<p>对于<code class=\"language-text\">redux</code>和<code class=\"language-text\">mobx</code>, 初始化过程显而易见不赘述. 不巧的是这个项目使用的是<code class=\"language-text\">graphql</code>, 再折腾了半天<code class=\"language-text\">apollo client</code>如何写进初始值之后(文档真是差, 下次决定用 relay), 发现<code class=\"language-text\">Apollo client</code>提供了<a href=\"https://www.apollographql.com/docs/react/performance/server-side-rendering/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SSR 解决方案</a>. 剩下的事情就简单了, 跟随文档, 用<code class=\"language-text\">client.extract()</code>输出序列化数据到 dom 上(注意要挂在 body 中可见元素后面), 并在创建 client 时利用<code class=\"language-text\">cache.restore</code>即可.</p>\n<p>至此经过测试, 页面的渲染已经完全不会有闪烁. 只是不知道为什么, 页面在有数据的情况下, 依然触发了一次 query. 怀疑是 cache 并未命中, 于是加了<code class=\"language-text\">id</code>和<code class=\"language-text\">__typename</code>等值, 依然没有做到避免这次触发. 不过鉴于这个问题对原本的问题影响基本可以忽略不计, 就不纠结了.</p>\n<h2 id=\"what-else\" style=\"position:relative;\"><a href=\"#what-else\" aria-label=\"what else permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What else...</h2>\n<p>事情至此, 主要目标已经完成. 要完整实现工程化, 还需要将此过程集成到 CICD Pipeline 中. 构建过程仅仅依赖<code class=\"language-text\">puppeteer</code>和网络连接, 完全可以部署在函数计算服务中, 通过 CMS 系统的 Web hook 触发, 保证静态内容的更新. 整个过程做到全部自动化没有问题.</p>\n<p>需要注意的是, 函数计算服务对任务时间有上限限制, 所以若页面数量很多, 还需要进一步拆分任务. 另外 Aliyun 的函数计算还有 50M 的包体积限制(puppeteer 100M+), 需要发工单才行. 找到了理由偷懒, 于是, 再贱!</p>","id":"ae610fc7-d833-56af-a157-a0dabf750f74","fields":{"slug":"2019-12-27"},"frontmatter":{"date":"2019-12-27","title":"对单页应用(SPA)进行预渲染从而实现搜索引擎优化(SEO)","category":"Code","tags":["SPA","seo","web","js"],"banner":"/assets/image/seo.jpg"},"timeToRead":5},"next":{"excerpt":"2020首发! 没想到如此长假，这项目竟然进度反而很慢。且命途多舛。 box Overview (7.5/10) 板件是19年618的囤货，活动价125元，可以说是非常性价比很高了。板件源自Su-33，有收起和展开两种姿态，但既然有甲板恐怕没人会做收起状态。蛋蛋给了整整两套，每样4+颗，很良心是很良心，但是由于本J1…","html":"<p>2020首发! 没想到如此长假，这项目竟然进度反而很慢。且命途多舛。</p>\n<p><img src=\"/assets/image/j15-deck/box.jpg\" alt=\"box\"></p>\n<h3 id=\"overview-7510\" style=\"position:relative;\"><a href=\"#overview-7510\" aria-label=\"overview 7510 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview (7.5/10)</h3>\n<p>板件是19年618的囤货，活动价125元，可以说是非常性价比很高了。板件源自Su-33，有收起和展开两种姿态，但既然有甲板恐怕没人会做收起状态。蛋蛋给了整整两套，每样4+颗，很良心是很良心，但是由于本J15都是早期试飞涂装，不应带弹或者至少不能带很多弹，所以也不能算加分。板件组合度尚可，无惊喜。细节方面，一般甚至有些地方可以说是简陋了，比如前起落架只是一个方盒子；空速管巨粗无比。主要减分项是水贴，印刷极其粗糙。有少量蚀刻片，但补充地方不知所谓可有可无：机首的姿态传感器尺寸过大，完全失去意义。</p>\n<p>总的来讲，题材不错但优化空间很大，处于对厂家“用心还是没用心”的怀疑当中，因此也就一般分数。</p>\n<h3 id=\"制作\" style=\"position:relative;\"><a href=\"#%E5%88%B6%E4%BD%9C\" aria-label=\"制作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>制作</h3>\n<p>本作是入坑以来最失败的作品，没有之一。虽然成品也能够成片，但其中几处炸裂现在还心有余悸。\n起初还是很顺利，甚至刚做好发动机还有些沾沾自喜，如下图：</p>\n<p><img src=\"/assets/image/j15-deck/12.jpg\" alt=\"box\">\n<img src=\"/assets/image/j15-deck/13.jpg\" alt=\"box\"></p>\n<p>以首次做的标准来看，还是可以的吧！记住这个样子，马上就看不到了 T_T</p>\n<p>第一个状况，是决定用蓝色马克笔做预制阴影。因为喷笔每次瞄不准，再F16试过铅笔之后打算拿马克笔尝试。没想到马克笔的油性颜料会在后面漆料的覆盖过程中向上渗透，导致覆盖不了，后面的成品图中看到一些蓝色就是这个原因。</p>\n<p>第二个状况，是用0.5的喷笔喷涂主色，导致漆层过厚，不光渗线困难，也使飞机表面呈一种难看不精致的感觉。这个状况也跟前一个失误有关：必须反复喷涂强行覆盖马克笔颜料。</p>\n<p>第三个，也是最头疼的，洗笔液淋在了飞机上！为什么会有这样低级的失误?! 现在的洗笔液用鹅颈瓶装，由于鹅颈瓶的构造，气温变化会导致瓶内气压变大把液体挤出。本来已经下决心换瓶子了，谁成想就这一会儿也翻了车：在从架子上拿洗笔业的时候尖端盖子掉了，喷了一路洗笔液，好死不死溅到飞机尾部一些。不说了，看图，都是泪。</p>\n<p>第四个，雨天喷水性消光。栽在保护漆上，这也不是第一次了。详情见<a href=\"/blog/2019-10-10\">Red Arrow</a>。本来B-25喷的消光已经有些发白，当时不很严重且有些做旧的效果，就没有注意。这次的发白简直炸裂，用酒精补救某些地方，导致状况一再次发生，T_T.</p>\n<p>以上各种，此作很难有以前的各种成就感，因为没有进步全是退步全是事故。后面也放弃了补救，一是对补救也没有信心，二是留个教训。</p>\n<p>血的经验：</p>\n<ul>\n<li>如非特殊，不再做顺刻线的预制阴影，意义不大。渗线过程也可以体现阴影。尝试随机阴影。</li>\n<li>主色也要薄喷，没掌握技巧前不用0.5了。</li>\n<li>放弃水性消光，保护漆不再马上喷了，放个个把月再说。</li>\n<li>操作流程整改：计划步骤，优化空间，精简设备。</li>\n</ul>\n<p>另外，祖国对武器的保密程度真是简直了。网上一张J-15高清图都找不到，更别提细节了。感觉J-20都没有这个待遇。也可能仅仅是Su-33壳子不受关注吧。</p>\n<h3 id=\"成品\" style=\"position:relative;\"><a href=\"#%E6%88%90%E5%93%81\" aria-label=\"成品 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>成品</h3>\n<p>先上实物图！</p>\n<p><img src=\"/assets/image/j15-deck/origin.jpeg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/0.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/1.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/2.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/3.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/4.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/5.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/6.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/7.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/8.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/9.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/10.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/j15-deck/11.jpg\" alt=\"box\"></p>\n<h3 id=\"后话\" style=\"position:relative;\"><a href=\"#%E5%90%8E%E8%AF%9D\" aria-label=\"后话 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后话</h3>\n<p>超长假期的超长项目，超长心痛。下一期，J-10A/B双飞！2020开篇不顺，但也要已经努力反转！</p>","id":"e3466100-1e73-5f57-945a-938b3bfbabd9","fields":{"slug":"2020-03-10"},"frontmatter":{"date":"2020-03-10","title":"[Epic Fail]小号手J-15带起飞甲板 1:72 (01670)","category":"ScaleModel","tags":["飞机","现代","中","1:72"],"banner":"/assets/image/j15-deck/0.jpg"},"timeToRead":3}}}}