{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/å°äº‹å„¿-çº¿ç¨‹é˜»å¡å¯¹css-animationå’Œsvg-animationçš„å½±å“","webpackCompilationHash":"0402ebab66e76baa7ea7","result":{"data":{"markdownRemark":{"html":"<p>åœ¨æµ‹è¯•å‰ç«¯è§£æä¸€ä¸ªæ¯”è¾ƒå¤§çš„ Excel æ–‡ä»¶æ—¶å€™, å‘ç°æˆ‘ä»¬çš„ button çš„ spinner å¡ä½äº†. å°è±¡ä¸­å³ä½¿çº¿ç¨‹é˜»å¡äº†, æœ‰äº› GPU åŠ é€Ÿçš„ä¸œè¥¿ä¾ç„¶åº”è¯¥æœ‰æ•ˆ. æ€€ç–‘åˆæ˜¯æŸç§ css in js çš„å¼±æ™ºç”¨æ³•(æ²¡é”™, æˆ‘å°±æ˜¯è®¨åŒ css in js). æŸ¥çœ‹äº†ä¸€ä¸‹å…ƒç´ å‘ç°æ˜¯ç”¨äº† svg çš„<a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateTransform\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">animateTransform</a>. å†™æ³•ä¸Šé¢æ„Ÿè§‰è·Ÿ css å·®ä¸å¤šéƒ½æ˜¯ä¸€å †<code class=\"language-text\">transform</code> + <code class=\"language-text\">rotate</code>. éš¾é“è¿™æ ·ä¹Ÿä¼šé˜»å¡å—?</p>\n<p><a href=\"https://jsbin.com/wodenoxaku/1/edit?html,css,output\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">æ‰€ä»¥åšäº†ä¸ªæµ‹è¯•</a></p>\n<p><img src=\"/assets/image/css-svg-anim/demo.gif\" alt=\"demo\"></p>\n<p>ç»“æœæ˜¯, è™½ç„¶é•¿å¾—åƒ, ä½† css animation è¿˜æ˜¯ä¸€ç­‰å…¬æ°‘, å¹¶ä¸åƒ<a href=\"https://stackoverflow.com/questions/25233248/gpu-accelerated-css-animation-vs-svg-native-animations\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stack Overflow æŸé—®é¢˜</a>çš„è¯„è®ºæ‰€è¯´<code class=\"language-text\">They are the same. UAs generally have one animation engine which does both kinds of animation</code>. css å¾—åˆ°äº† GPU åŠ é€Ÿä½† svg ä¼šè¢«çº¿ç¨‹é˜»å¡å½±å“.</p>\n<p>ç”±äºåŠ¨ç”», GPU åŠ é€Ÿç­‰ç­‰å±äºæµè§ˆå™¨çš„è‡ªä¸»è£é‡è¡Œä¸ºäº†, æ‰€ä»¥æµ‹è¯•ç»“æœå¹¶ä¸ä»£è¡¨ä»€ä¹ˆç¡®åˆ‡çš„ä¸œè¥¿. æœ‰å¯èƒ½æœªæ¥æŸæ—¶åˆ»æ‰“å¼€æµ‹è¯•è¿æ¥ç»“æœå°±ä¸ä¸€æ ·äº†å‘¢. åªèƒ½è¯´å†™ä¸‹æœ¬æ–‡æ—¶, æµè§ˆå™¨å¯¹ css çš„ä¼˜åŒ–ä¼˜å…ˆçº§æ›´é«˜, å®è·µä¸­åº”ä¼˜å…ˆä½¿ç”¨å§.</p>\n<hr>\n<p>å¦‚æœé“¾æ¥æŒ‚äº†çš„è¯, è¿™æ˜¯ä»£ç :</p>\n<h3 id=\"html\"><a href=\"#html\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>html</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>JS Bin<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>CSS spinner<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>css-spinner<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Svg spinner<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>50<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 0 44 44<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>defs</span><span class=\"token punctuation\">></span></span>Ã‡\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>linearGradient</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stop</span> <span class=\"token attr-name\">stop-color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#FF4F42<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">offset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0%<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>stop</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>stop</span> <span class=\"token attr-name\">stop-color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#FF8E3C<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">offset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>100%<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>stop</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>linearGradient</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>defs</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">transform</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>translate(3 3)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>none<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill-rule</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>evenodd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>path</span> <span class=\"token attr-name\">d</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>M36 18c0-9.94-8.06-18-18-18<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>#000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-linecap</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>round<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">transform</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rotate(217.117 18 18)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>animateTransform</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>transform<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>rotate<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>0 18 18<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>360 18 18<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>2s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>animateTransform</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>path</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>for (var i = 0; i &lt; 100000; i++) console.log(i)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Blocking action<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"css\"><a href=\"#css\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>css</h3>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> spin</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">-webkit-transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>0deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">-webkit-transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>359deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>359deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.css-spinner</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> spin 2s infinite linear<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 6px solid black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-right-color</span><span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-bottom-color</span><span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-top-color</span><span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">button</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","fields":{"slug":"å°äº‹å„¿-çº¿ç¨‹é˜»å¡å¯¹css-animationå’Œsvg-animationçš„å½±å“"},"frontmatter":{"title":"å°äº‹å„¿: çº¿ç¨‹é˜»å¡å¯¹css animationå’Œsvg animationçš„å½±å“","date":"06.03.2019","category":"Code","tags":["css","svg","animation","å°äº‹å„¿"],"banner":"/assets/image/css-svg-anim/spinner-blocked.png"},"timeToRead":2}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"å°äº‹å„¿-çº¿ç¨‹é˜»å¡å¯¹css-animationå’Œsvg-animationçš„å½±å“","prev":{"excerpt":"æœ¬æ¥æ˜¯åœ¨ç½‘ä¸Šé—²é€›çœ‹çœ‹ç°åœ¨æœ‰ä»€ä¹ˆé€‚é…React Hooksçš„åº“, å‘ç°æœ‰ä¸€ä¸ª rxjs-hooks è¿˜è¡Œ. ç«Ÿç„¶æ˜¯LeetCodeå¼€æºçš„, äºæ˜¯å°±ç‚¹è¿›å»çœ‹çœ‹. å‘ç°äº†ä¸€ä¸ª hire çš„repo. ç¼–å†™å¤æ‚çš„ TypeScript ç±»å‹ ç”¨ Webpack å®ç° predictable long term cache ç¼–å†™å·¥ç¨‹åŒ–çš„ç»„ä»¶ ç”¨ RxJS å¤„ç†å¤æ‚çš„å¼‚æ­¥ä¸šåŠ¡ 3, 4åšå¾—å¤šäº†æ²¡ä»€ä¹ˆæ–°é²œæ„Ÿ, åªèƒ½æ„Ÿå¹ä¸‹ç°åœ¨å‰ç«¯æ‹›è˜ç¡®å®è¶Šæ¥è¶Šæ³¨é‡å·¥ç¨‹åŒ–å’Œå®ç”¨æ€§äº†, æ²¡æƒ³åˆ°ä¸€ä¸ªOGâ€¦","html":"<p>æœ¬æ¥æ˜¯åœ¨ç½‘ä¸Šé—²é€›çœ‹çœ‹ç°åœ¨æœ‰ä»€ä¹ˆé€‚é…React Hooksçš„åº“, å‘ç°æœ‰ä¸€ä¸ª<a href=\"https://github.com/LeetCode-OpenSource/rxjs-hooks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rxjs-hooks</a>è¿˜è¡Œ. ç«Ÿç„¶æ˜¯LeetCodeå¼€æºçš„, äºæ˜¯å°±ç‚¹è¿›å»çœ‹çœ‹. å‘ç°äº†ä¸€ä¸ª<a href=\"https://github.com/LeetCode-OpenSource/hire\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">hire</a>çš„repo.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/LeetCode-OpenSource/hire/blob/master/typescript_zh.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ç¼–å†™å¤æ‚çš„ TypeScript ç±»å‹</a></li>\n<li><a href=\"https://github.com/LeetCode-OpenSource/hire/blob/master/webpack_zh.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ç”¨ Webpack å®ç° predictable long term cache</a></li>\n<li><a href=\"https://github.com/LeetCode-OpenSource/hire/blob/master/engineering_zh.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ç¼–å†™å·¥ç¨‹åŒ–çš„ç»„ä»¶</a></li>\n<li><a href=\"https://github.com/LeetCode-OpenSource/hire/blob/master/rxjs_zh.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ç”¨ RxJS å¤„ç†å¤æ‚çš„å¼‚æ­¥ä¸šåŠ¡</a></li>\n</ul>\n</blockquote>\n<p>3, 4åšå¾—å¤šäº†æ²¡ä»€ä¹ˆæ–°é²œæ„Ÿ, åªèƒ½æ„Ÿå¹ä¸‹ç°åœ¨å‰ç«¯æ‹›è˜ç¡®å®è¶Šæ¥è¶Šæ³¨é‡å·¥ç¨‹åŒ–å’Œå®ç”¨æ€§äº†, æ²¡æƒ³åˆ°ä¸€ä¸ªOGç½‘ç«™çš„å‰ç«¯é¢˜ç«Ÿç„¶æ²¡æœ‰ä¸€ä¸ªæ˜¯ç®—æ³•çš„. 2ç¡®å®å¾ˆæ£’, åæ‰‹å°±æŠŠè‡ªå·±é¡¹ç›®ç»™æ”¹äº†, è™½ç„¶ç°æœ‰çš„éƒ¨ç½²æ–¹å¼å¹¶ä¸éœ€è¦è¿™ç§ä¼˜åŒ–.</p>\n<p>é¢˜ç›®1ç¡®å®æ˜¯æŒºå¤´ç–¼çš„ä¸€ä¸ªå®é™…é—®é¢˜. æœ¬æ¥ä»¥ä¸ºåœ¨å®é™…å·¥ä½œä¸­ç”¨ç”¨æ‰å¹³çš„åŸºæœ¬ç±»å‹å°±å¤Ÿç”¨äº†, ä½†æ­£å¦‚ä¹‹å‰å†™Scalaä¸€æ ·, ä¸€å…¥ç±»å‹æ·±ä¼¼æµ·å•Š, å„ç§å¤´ç–¼çš„<code class=\"language-text\">TS Error</code>. å·¥ä½œä¸­æƒ³å†™ç‚¹éªšç±»å‹çœ‹è§ä»€ä¹ˆ<code class=\"language-text\">keyof</code>, <code class=\"language-text\">Exclude</code>, <code class=\"language-text\">Extract</code>ä¹‹ç±»å°±å¤´å¤§, æ¯æ¬¡éƒ½ç–¯ç‹‚æœåŠå¤©. åšè¿™ä¸ªé¢˜æ—¶å€™æ­£å¥½é¡ºä¾¿å±¡å±¡æ¸…æ¥š.</p>\n<p>è¿™é“é¢˜çš„æè¿°æŒºå¤šæŒºå¤æ‚çš„, ä½†å…¶å®è¦æ±‚ç²¾ç®€ä¸€ä¸‹å°±æ˜¯:\nå†™å‡ºä¸€ä¸ª<code class=\"language-text\">\bæ”¹å˜æŸä¸ªinterfaceçš„æŸäº›å±æ€§çš„ç±»å‹, ç»§æ‰¿å…¶ä»–çš„å±æ€§</code>çš„ç±»å‹.</p>\n<p>æ”¹æ¥æ”¹å»åæˆ‘çš„æœ€ç»ˆç­”æ¡ˆæ˜¯:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// keys of non-function props: count, message...</span>\n<span class=\"token keyword\">type</span> NonFuncKeys <span class=\"token operator\">=</span> Exclude<span class=\"token operator\">&lt;</span>keyof EffectModule<span class=\"token punctuation\">,</span> keyof Connected<span class=\"token operator\">></span>\n\n<span class=\"token comment\">// extract non-function types from original interface</span>\n<span class=\"token keyword\">type</span> NonFuncProps <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span>key <span class=\"token keyword\">in</span> NonFuncKeys<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> EffectModule<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// combine</span>\n<span class=\"token keyword\">type</span> Result <span class=\"token operator\">=</span> Partial<span class=\"token operator\">&lt;</span>NonFuncProps<span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> Connected</code></pre></div>\n<p>ç±»å‹è¿™ç§ä¸œè¥¿åœ¨jsä¸–ç•Œé‡Œå¾ˆéš¾è¯´æ˜¯ä¸¥è°¨çš„, æ‰€ä»¥æ»¡è¶³è¦æ±‚çš„ç­”æ¡ˆåº”è¯¥æ˜¯ä¸æ­¢ä¸€ä¸ª, å¹¶ä¸”è¿˜è·Ÿç¼–è¯‘å™¨ç‰ˆæœ¬æœ‰å…³. æ‰€ä»¥å…³äºç­”æ¡ˆå°±ä¸æ·±ç©¶äº†. å€’æ˜¯å‡ ç§å…³é”®å­—æœ‰å¿…è¦ç†æ¸…é™¤ä¸€ä¸‹.</p>\n<hr>\n<h2 id=\"in\"><a href=\"#in\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>in</h2>\n<p><code class=\"language-text\">in</code>å…³é”®å­—æ˜¯ç”¨æ¥ç”Ÿæˆ<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Mapped types</code></a>çš„. ä½œç”¨ç±»ä¼¼jsé‡Œçš„<code class=\"language-text\">for ... in</code>, åªä¸è¿‡é’ˆå¯¹çš„æ˜¯å±æ€§<code class=\"language-text\">key</code>å€¼çš„<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Index types</code></a>, å®é™…ä¸Šæ˜¯æ‰€æœ‰å…¬å¼€å±æ€§åçš„<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Union type</code></a>.</p>\n<p>ç”¨<code class=\"language-text\">in</code>æŠŠä¸€ä¸ªç±»å‹çš„æ‰€æœ‰å±æ€§mapæˆ<code class=\"language-text\">any</code>çš„ä¾‹å­:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span>\n  age<span class=\"token punctuation\">:</span> <span class=\"token builtin\">number</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> ToAny<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span><span class=\"token constant\">P</span> <span class=\"token keyword\">in</span> keyof <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// or...</span>\n<span class=\"token keyword\">type</span> ToAny2<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">symbol</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span><span class=\"token constant\">P</span> <span class=\"token keyword\">in</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">any</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// map name/age to any</span>\n<span class=\"token keyword\">type</span> Result <span class=\"token operator\">=</span> ToAny<span class=\"token operator\">&lt;</span>Person<span class=\"token operator\">></span>\n<span class=\"token comment\">// or</span>\n<span class=\"token keyword\">type</span> Result <span class=\"token operator\">=</span> ToAny2<span class=\"token operator\">&lt;</span>keyof Person<span class=\"token operator\">></span></code></pre></div>\n<hr>\n<h2 id=\"keyof\"><a href=\"#keyof\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>keyof</h2>\n<p><code class=\"language-text\">keyof</code>å°±æ˜¯ğŸ‘†æåˆ°çš„<code class=\"language-text\">index type</code>çš„<code class=\"language-text\">query operator</code>, ç±»å‹ç»è¿‡<code class=\"language-text\">keyof</code>æ“ä½œåå°±å¾—åˆ°æ‰€æœ‰å…¬å¼€å±æ€§åçš„Union type</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> PersonKeys <span class=\"token operator\">=</span> keyof Person <span class=\"token comment\">// 'name' | 'age'</span></code></pre></div>\n<hr>\n<h2 id=\"tk\"><a href=\"#tk\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>T[K]</h2>\n<p>è¿™ä¸ªæ–¹æ‹¬å·å«<code class=\"language-text\">indexed access operator</code>. è¿™ä¸ªå¾ˆå¥½ç†è§£äº†, ç»è¿™ä¸ªæ“ä½œå¯ä»¥è·å–ç±»å‹<code class=\"language-text\">T</code>çš„å±æ€§keyä¸º<code class=\"language-text\">K</code>çš„ç±»å‹</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">type</span> Age <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">[</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// number</span></code></pre></div>\n<hr>\n<h2 id=\"nullable-nonnullable-partial-readonly-required\"><a href=\"#nullable-nonnullable-partial-readonly-required\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nullable, NonNullable, Partial, Readonly, Required</h2>\n<p>æŒºå¸¸ç”¨çš„å·¥å…·ç±»å‹, å­—é¢æ„æ€, æ²¡å•¥éš¾åº¦. ä½†æ˜¯<code class=\"language-text\">Required</code>çš„å®šä¹‰å°±æ¯”è¾ƒéªšäº†:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> Required<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token constant\">P</span> <span class=\"token keyword\">in</span> keyof <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-</span><span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token constant\">P</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// -? ğŸ˜²</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2 id=\"pick\"><a href=\"#pick\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pick</h2>\n<p>è¿™ä¸ªå°±æ˜¯çœ‹èµ·æ¥æœ‰ç‚¹å±Œçš„ç±»å‹çš„, ä½†å…¶å®å®šä¹‰å¹¶ä¸å¤æ‚, ç”¨æ³•ä¹Ÿå¾ˆç®€å•</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> Droid <span class=\"token operator\">=</span> Pick<span class=\"token operator\">&lt;</span>Person<span class=\"token punctuation\">,</span> <span class=\"token string\">'name'</span><span class=\"token operator\">></span>\n<span class=\"token keyword\">type</span> ClonePerson <span class=\"token operator\">=</span> Pick<span class=\"token operator\">&lt;</span>Person<span class=\"token punctuation\">,</span> <span class=\"token string\">'name'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'age'</span><span class=\"token operator\">></span></code></pre></div>\n<p>è¿˜æœ‰ä¸€ä¸ª<code class=\"language-text\">Record</code>, åˆšå¥½åƒ<code class=\"language-text\">Pick</code>åè¿‡æ¥, ç”Ÿæˆä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½æ˜¯ç›®æ ‡ç±»å‹çš„æ–°ç±»å‹. ä¸çŸ¥é“æœ‰å•¥ç”¨ä¸å†™äº†.</p>\n<hr>\n<h2 id=\"exclude-extract\"><a href=\"#exclude-extract\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exclude, Extract</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> Exclude<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">U</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">U</span> <span class=\"token operator\">?</span> never <span class=\"token punctuation\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> Extract<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">U</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token constant\">T</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">U</span> <span class=\"token operator\">?</span> <span class=\"token constant\">T</span> <span class=\"token punctuation\">:</span> never<span class=\"token punctuation\">;</span></code></pre></div>\n<p>è¿™ä¸¤ä¸ªæœ€è®©äººå¤´å¤§äº†, ä¹‹å‰ç”¨çš„æ—¶å€™ç»å¸¸å¾—åˆ°ä¸€ä¸ª<code class=\"language-text\">never</code>. ä¸è¿‡åœ¨ææ‡‚äº†<code class=\"language-text\">keyof</code>ä¹‹åå°±æ²¡ä»€ä¹ˆé—®é¢˜äº†. çœ‹å®šä¹‰å°±çŸ¥é“è¿™ä¸¤ä¸ªç±»å‹çš„å‚æ•°å¿…é¡»<code class=\"language-text\">T extends U</code>, å¦åˆ™å°±ä¼šç›´æ¥ä¸¢ç»™ä½ ä¸ª<code class=\"language-text\">never</code>. è¿™ä¹Ÿå°±å‡å¼±äº†è¿™ä¸¤ä¸ªæ–¹æ³•çš„å¯ç”¨æ€§, åœ¨ä¸¤ä¸ªç±»å‹æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„æ—¶å€™å¿…é¡»è¦ç»è¿‡<code class=\"language-text\">keyof</code>è½¬ä¸º<code class=\"language-text\">indexed type</code>å’Œ<code class=\"language-text\">Pick</code>æ“ä½œæ‰èƒ½è¾¾åˆ°å­—é¢ä¸Šçš„æ•ˆæœ. è¿™ä¹Ÿæ˜¯ä¸ºå•¥å¾ˆå¤šåº“é‡Œé¢ç±»å‹å£°æ˜æ–‡ä»¶ä¸­èµ·æ‰‹å°±æ˜¯ä¸€ä¸ª<code class=\"language-text\">Omit</code>æˆ–è€…<code class=\"language-text\">Substract</code>.</p>\n<hr>\n<h2 id=\"t-extends-u--a-b\"><a href=\"#t-extends-u--a-b\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>T extends U ? A: B</h2>\n<p>v2.8å¼•å…¥çš„è¯­æ³•. æ„Ÿè§‰ä¼šæŒºå®ç”¨. ä½†æ˜¯æ¡ä»¶è¯­å¥è¡¨è¾¾æ–¹å¼æœ‰é™, æœŸå¾…æ‰©å±•.</p>\n<hr>\n<h2 id=\"bonus-thistypet\"><a href=\"#bonus-thistypet\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BONUSğŸ’° ThisType&#x3C;T></h2>\n<p>è¿™ä¸ªæ˜¯è‡ªå·±ç‚¹è¿›<code class=\"language-text\">lib.d.ts</code>é‡Œçœ‹åˆ°çš„, æ–‡æ¡£é‡Œå¾ˆéš¾æ‰¾åˆ°(<a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#thistypet\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ä½†è¿˜æ˜¯æœ‰</a>). åˆšçœ‹åˆ°è§‰å¾—è¿™ä¸ªå¯ä»¥è§£å†³<code class=\"language-text\">Vue</code>ä¸­çš„å¾ˆå¤šé—®é¢˜, å› ä¸º<code class=\"language-text\">Vue</code>é¡¹ç›®æ˜¯<code class=\"language-text\">this</code>çš„é‡åº¦ç”¨æˆ·. ä¸€æœæœç„¶æ—©åœ¨v2.5å°±å·²ç»ç”¨ä¸Šäº†.</p>\n<hr>\n<p>è¿˜æœ‰ä¸€äº›å·¥å…·ç±»å‹å’Œå…³é”®å­—, å…ˆä¸å†™äº†. ä¹‹å‰è¿˜æœ‰ä½¿ç”¨äº†<a href=\"https://forcedotcom.github.io/sfdx-dev-packages/ts-types/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">@salesforce/ts-types</code></a>, è¿˜æ²¡æ¥å¾—åŠä»”ç»†çœ‹. å°±éƒ½ç•™åˆ°ä¸‹ä¸€ç¯‡blogå§.</p>","id":"3cccecae-4114-5c9e-8013-f2879dd73931","fields":{"slug":"ç”±ä¸€é“tsçš„ç±»å‹é¢˜æƒ³åˆ°çš„"},"frontmatter":{"date":"2019-02-15","title":"ç”±ä¸€é“tsçš„ç±»å‹é¢˜æƒ³åˆ°çš„","category":"Code","tags":["typescript","advanced type"],"banner":"/assets/image/tstypes/tse.png"},"timeToRead":3},"next":{"excerpt":"4 æœˆ 1 å·æ‰“å¼€äº† StackOverflow, çœ‹è§æ»¡å±å¹•ä¸­äºŒå…ƒç´ è¿˜ä»¥ä¸ºè‡ªå·±èµ°é”™äº†æ¿å—. åæ¥æ‰æƒ³åˆ°æ„šäººèŠ‚çš„äº‹æƒ…. é™¤äº†ç‹¬è§’å…½å’Œè¶… gay é…è‰², è¿˜æœ‰ä¸ªé¼ æ ‡ä¸‹é›ªçš„æ•ˆæœè¿˜è¡Œ, å°±æƒ³ç€åšåšçœ‹. æ€è·¯ ç›®æ ‡åŒºåŸŸç›‘å¬ äº‹ä»¶, è·å–é¼ æ ‡ä½ç½®. å›¾å½¢: canvas è¿˜æ˜¯ DOM? ä»”ç»†çœ‹åŸå®ç°, é›ªèŠ±å…¶å®å°±æ˜¯ * å·. è¿™æ · DOM ä¼šæ–¹ä¾¿ä¸€äº›, ä½† canvas ä¹Ÿä¸æ˜¯ä¸è¡Œ. åŠ¨ç”»: åŠ¨ç”»éƒ¨åˆ†ç”± , å’Œ x, yâ€¦","html":"<p>4 æœˆ 1 å·æ‰“å¼€äº† StackOverflow, çœ‹è§æ»¡å±å¹•ä¸­äºŒå…ƒç´ è¿˜ä»¥ä¸ºè‡ªå·±èµ°é”™äº†æ¿å—. åæ¥æ‰æƒ³åˆ°æ„šäººèŠ‚çš„äº‹æƒ…. é™¤äº†ç‹¬è§’å…½å’Œè¶… gay é…è‰², è¿˜æœ‰ä¸ªé¼ æ ‡ä¸‹é›ªçš„æ•ˆæœè¿˜è¡Œ, å°±æƒ³ç€åšåšçœ‹.</p>\n<h3 id=\"æ€è·¯\"><a href=\"#%E6%80%9D%E8%B7%AF\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ€è·¯</h3>\n<ul>\n<li>ç›®æ ‡åŒºåŸŸç›‘å¬<code class=\"language-text\">mousemove</code>äº‹ä»¶, è·å–é¼ æ ‡ä½ç½®.</li>\n<li>å›¾å½¢: canvas è¿˜æ˜¯ DOM? ä»”ç»†çœ‹åŸå®ç°, é›ªèŠ±å…¶å®å°±æ˜¯*å·. è¿™æ · DOM ä¼šæ–¹ä¾¿ä¸€äº›, ä½† canvas ä¹Ÿä¸æ˜¯ä¸è¡Œ.</li>\n<li>åŠ¨ç”»: åŠ¨ç”»éƒ¨åˆ†ç”±<code class=\"language-text\">fade out</code>, å’Œ x, y è½´ä¸¤ä¸ªæ–¹å‘çš„ç§»åŠ¨ç»„æˆ, åŸå®ç°å¹¶æ²¡æœ‰å¤ªå¤æ‚çš„è¯¸å¦‚æŠ–åŠ¨, åŠ¨ç”»æ›²çº¿ä¹‹ç±»æ•ˆæœ, ä¹Ÿæ²¡å¤ªå¤§å¿…è¦. è¿™ä¸€éƒ¨åˆ† css å¯ä»¥å®ç°, é—®é¢˜æ˜¯è¦ä¸è¦åˆ©ç”¨<code class=\"language-text\">transition</code>, ç”¨çš„è¯ä»£ç ä¸Šç®€å•ä¸€ç‚¹, ä¸ç”¨çš„è¯å¯ä»¥ç²¾ç»†æ§åˆ¶åšç‚¹å…¶ä»–æ•ˆæœ.</li>\n</ul>\n<h3 id=\"æ\"><a href=\"#%E6%90%9E\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>æ</h3>\n<hr>\n<h4 id=\"dom\"><a href=\"#dom\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM</h4>\n<p>æ‰¾ä¸€ä¸ªåŒºåŸŸ, ç››æ”¾é›ªèŠ±å…ƒç´ . å†æ”¾ä¸€ä¸ªé›ªèŠ±çš„æ¨¡æ¿, å…‹éš†ç”¨.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>playground<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> lightgrey<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>snowflake-template<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>snowflake<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>*<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ä¸€äº›é»˜è®¤çš„ css å±æ€§, ä¸»è¦æ˜¯æ§åˆ¶é›ªèŠ± sprite.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style language-css\">\n  <span class=\"token selector\">.snowflake</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 861112<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all 2s<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">pointer-events</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">#playground .snowflake</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<hr>\n<h4 id=\"js\"><a href=\"#js\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JS</h4>\n<p>å‡†å¤‡å·¥ä½œ</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> <span class=\"token constant\">COLORS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> playground <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'playground'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> template <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'snowflake-template'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">onMouseMove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// todo</span>\n<span class=\"token punctuation\">}</span>\n\nplayground<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousemove'</span><span class=\"token punctuation\">,</span> onMouseMove<span class=\"token punctuation\">)</span></code></pre></div>\n<p>ç„¶åå®ç°<code class=\"language-text\">onMouseMove</code>, è¦åšçš„äº‹æƒ…å°±æ˜¯, 1, ä»æ¨¡æ¿å¤åˆ¶ä¸€ä¸ªé›ªèŠ±å‡ºæ¥, å¡åˆ°å®¹å™¨é‡Œ 2, æ·»åŠ ç›¸å…³ css å±æ€§. 3, ä¸€å®šæ—¶é—´åæ‘˜é™¤é›ªèŠ±å…ƒç´ . è€ƒè™‘æ€§èƒ½è¿™ä¸ªæ–¹æ³•å¯åš<code class=\"language-text\">throttle</code>, è¿™é‡Œç•¥è¿‡.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">onMouseMove</span><span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> color <span class=\"token operator\">=</span> <span class=\"token constant\">COLORS</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> snowflake <span class=\"token operator\">=</span> template<span class=\"token punctuation\">.</span><span class=\"token function\">cloneNode</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  snowflake<span class=\"token punctuation\">.</span><span class=\"token function\">removeAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  playground<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>snowflake<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  snowflake<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>cssText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`\n    top: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>evt<span class=\"token punctuation\">.</span>clientY<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    left:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>evt<span class=\"token punctuation\">.</span>clientX<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    color: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>color<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n  `</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    snowflake<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>opacity <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    snowflake<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`scale(.4) translate3d(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span> <span class=\"token operator\">-</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">200</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">280</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px, 0)`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    snowflake<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯, <code class=\"language-text\">opacity</code>å’Œ<code class=\"language-text\">transform</code>æ˜¯é€šè¿‡<code class=\"language-text\">setTimeout</code>å¦å¤–åŠ åˆ°å…ƒç´ ä¸Š, è¿™æ ·å¯ä»¥ä½¿<code class=\"language-text\">transition</code>ç”Ÿæ•ˆ. è¿™é‡Œä¹Ÿå¯ä»¥ç”¨<code class=\"language-text\">setInterval</code>æˆ–<code class=\"language-text\">requestAnimationFrame</code>æ¥æ§åˆ¶, å„ä¸ªæ•°å€¼äº¦å¯ä»¥æ ¹æ®æ•ˆæœè°ƒæ•´.</p>\n<h3 id=\"demo\"><a href=\"#demo\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demo</h3>\n<div id=\"playground\">\n  hover me!\n</div>\n<style>\n\n  #playground {\n    width: 500px;\n    height: 500px;\n    background: lightgrey;\n    color: white;\n    font-size: 30px;\n    text-align: center;\n    padding-top: 200px;\n  }\n  .snowflake {\n    display: none;\n    position: fixed;\n    z-index: 861112;\n    transition: all 2s;\n    opacity: 1;\n    pointer-events: none;\n  }\n  #playground .snowflake {\n    display: block;\n  }\n</style>\n<p><span id=\"snowflake-template\" class=\"snowflake\">*</span></p>\n<script data-inline-script=\"data-inline-script\">\n\n  let COLORS = [\"#D61C59\", \"#E7D84B\", \"#1B8798\"]\n  let playground = document.getElementById('playground')\n  let template = document.getElementById('snowflake-template')\n\n  function onMouseMove(evt) {\n    let color = COLORS[(Math.random() * 3) | 0]\n    let snowflake = template.cloneNode(true)\n    snowflake.removeAttribute('id')\n    playground.appendChild(snowflake)\n    snowflake.style.cssText = `\n      top: ${evt.clientY}px;\n      left:${evt.clientX}px;\n      color: ${color};\n    `\n    setTimeout(() => {\n      snowflake.style.opacity = 0\n      snowflake.style.transform = `scale(.4) translate3d(${(.5 - Math.random()) * 200}px, ${Math.random() * 280}px, 0)`\n    })\n    setTimeout(() => {\n      snowflake.remove()\n    }, 2000)\n  }\n\n  playground.addEventListener('mousemove', onMouseMove)\n\n</script>\n<h3 id=\"è·ŸåŸå®ç°çš„å¯¹æ¯”\"><a href=\"#%E8%B7%9F%E5%8E%9F%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%AF%B9%E6%AF%94\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>è·ŸåŸå®ç°çš„å¯¹æ¯”</h3>\n<p>ä¸Šé¢çš„ demo, é¢œè‰²æ˜¯å€Ÿç”¨çš„, å…¶ä»–éƒ½æ˜¯æŒ‰ç…§æ•ˆæœå®ç°. åŸå®ç°å…¶å®å·²ç»<a href=\"https://stackapps.com/questions/8287/2019-april-fools-day-retro-theme\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">å…¬å¸ƒåœ¨äº† StackOverflow ä¸Š</a>. å¯¹æ¯”ä¸‹æ¥ä¸»è¦åŒºåˆ«æ˜¯, åŸå®ç°æ²¡ç”¨<code class=\"language-text\">transition</code>è€Œæ˜¯ä¸Šé¢æåˆ°çš„<code class=\"language-text\">requestAnimationFrame</code>æ–¹æ¡ˆ, æ•ˆæœä¸Šç¡®å®æ²¡æœ‰ demo ä¸­çš„å¡é¡¿(åŸå› åº”è¯¥æ˜¯æ˜¯ demo ä¸­çš„ç¬¬ä¸€ä¸ª<code class=\"language-text\">setTimeout</code>çš„é¢‘ç¹ DOM æ“ä½œ).</p>","id":"9bc47dae-53ae-524c-9002-00567e819f0f","fields":{"slug":"å°äº‹å„¿-stackoverflowæ„šäººèŠ‚ç‰¹æ•ˆ"},"frontmatter":{"date":"2019-04-03","title":"å°äº‹å„¿: stackoverflowæ„šäººèŠ‚ç‰¹æ•ˆ","category":"Code","tags":["css","stackoverflow","animation","å°äº‹å„¿"],"banner":"/assets/image/stackoverflow-aprilfools-theme.png"},"timeToRead":2}}}}