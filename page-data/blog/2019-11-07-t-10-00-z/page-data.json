{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2019-11-07-t-10-00-z","webpackCompilationHash":"47dc38862e77ad7c14df","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>水一篇代码相关的 blog.</p>\n</blockquote>\n<p>最近在做微信小程序, 设计稿上有一个省略号依次颜色变化组成的 loading 组件. 据说来自微信 UI 设计标准, 可是哪里都找不到, 只能自制了. 顺便吐槽一下小程序的设计和文档, 真是 tmd...</p>\n<h3 id=\"思路\"><a href=\"#%E6%80%9D%E8%B7%AF\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>思路</h3>\n<p>效果主要就是省略号中各个点周期性交替闪烁. 闪烁可以有多种表现形式, 如颜色或者透明度变化, 这方面倒不是什么大问题. 如何支持任意个数的\"点\"是需要思考的地方. 经过一些实验, 打算采取通过子元素作为 stub 控制个数, <code class=\"language-text\">:nth-child()</code>伪元素和<code class=\"language-text\">animation-delay</code>来控制交替. <code class=\"language-text\">animation-delay</code>可以设为负值来避免初始状态的问题, 也算是覆盖到了知识盲点.</p>\n<h3 id=\"代码\"><a href=\"#%E4%BB%A3%E7%A0%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>代码</h3>\n<h4 id=\"css\"><a href=\"#css\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSS</h4>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> blink</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.2<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> gray<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 861112px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> blink 1s ease-in-out -1s infinite alternate<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 1)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 2)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 3)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -1.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"dom\"><a href=\"#dom\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM</h4>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ellipsis-loading<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"demo\"><a href=\"#demo\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demo</h3>\n<style>\n  @keyframes blink {\n    from { opacity: 1; }\n    to   { opacity: 0.2; }\n  }\n  #playground {\n    width: 500px;\n    height: 300px;\n    background: white;\n    font-size: 30px;\n    text-align: center;\n    padding-top: 50px;\n    margin-bottom: 80px;\n  }\n  .ellipsis-loading i {\n    display: inline-block;\n    width: 1em;\n    height: 1em;\n    background: gray;\n    border-radius: 861112px;\n    animation: blink 1s ease-in-out -1s infinite alternate;\n  }\n  .ellipsis-loading i:nth-child(3n + 1) {\n    animation-delay: -.5s;\n  }\n  .ellipsis-loading i:nth-child(3n + 2) {\n    animation-delay: -.1s;\n  }\n  .ellipsis-loading i:nth-child(3n + 3) {\n    animation-delay: -1.5s;\n  }\n</style>\n<div id=\"playground\">\n  <span>文字</span>\n  <span class=\"ellipsis-loading\">\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span class=\"ellipsis-loading\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span style=\"font-size:.5em\">0.5倍字体</span>\n  <span class=\"ellipsis-loading\" style=\"font-size:.5em\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span style=\"font-size:.5em\">4个点</span>\n  <span class=\"ellipsis-loading\" style=\"font-size:.5em\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n</div>","fields":{"slug":"2019-11-07-t-10-00-z"},"frontmatter":{"title":"CSS省略号样式Loading","date":"07.11.2019","category":"Code","tags":["css","animation","小事儿"],"banner":"/assets/image/css-svg-anim/spinner-blocked.png"},"timeToRead":1}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"2019-11-07-t-10-00-z","prev":{"excerpt":"这是一个典型的题材货。购入原因主要因为两点： 自从蓝天使做完了之后，就想把著名表演队都做一遍。于是把雷鸟(T38)，八一(J10A)连同这个一起入了。 红色油漆太多用不完。 Overview (8/1…","html":"<p>这是一个典型的题材货。购入原因主要因为两点：</p>\n<ul>\n<li>\n<p>自从蓝天使做完了之后，就想把著名表演队都做一遍。于是把雷鸟(T38)，八一(J10A)连同这个一起入了。</p>\n</li>\n<li>\n<p>红色油漆太多用不完。</p>\n</li>\n</ul>\n<h3 id=\"overview-810\"><a href=\"#overview-810\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview (8/10)</h3>\n<p><img src=\"/assets/image/red-arrow/box.jpg\" alt=\"box\"></p>\n<p>板件本身质量不错，属于号手的上乘水平了。组合度和组合难易程度都挺好，大件组合有些细缝，考虑了下没有用补土也可以接受。价格算是国产很贵的水平了，考虑到题材问题不加分也不减分。细节一般化，比如机翼主翼面的线有缺失，封绘上如此明显的竟然板件上没有，相比其他地方的细节，着实不应该。好在座舱比较全，蚀刻片什么的好评。</p>\n<p>需要吐槽的地方是水贴，设计非常的不用心。垂尾英国国旗的红色部分，应该用底色来表现而不是一整张带红色的水贴，因为难免会有色偏。两种涂装中的一种考虑到了另外一种就没有，不知道怎么想的。机腹的水贴约等于没法用，自己切割了好几份，并用白色手涂了半天才勉强 ok，这是最大的败笔。另外还有些地方水贴重合导致白色部分在底色的衬托下有深有浅。如果不是这糟心的水贴体验，说不定还能加一分。</p>\n<h3 id=\"制作\"><a href=\"#%E5%88%B6%E4%BD%9C\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>制作</h3>\n<p>本作的主要挑战在鲜艳的颜色处理和光油抛光。第一部分，认识到了底色对发色的重要性：若是没有白色底色，无论多少层红色，都会显得暗哑。从一些懒得打底漆的小部件，如起落架盖板上能很明显看出。第二部分严重翻车，本来未喷涂光油前的效果已经足够满意，飞机么，没必要追求民用汽车的镜面效果。本着尝试新技术的想法，还是决定打多层光油再尝试打磨出平滑光亮的表面。而且还特意遵循指导，让红色底漆晾干的一周，结果竟然出现了龟裂！手忙脚乱的又做处理，真的是费心费力，结果最终还是在机腹又产生了一些。</p>\n<p>十一假期从俄罗斯归来后，心想将近半个月这下漆面总干踏实了把。尝试用打磨膏什么的折腾了下，基本没有什么正面效果。作罢了吧。</p>\n<h3 id=\"成品\"><a href=\"#%E6%88%90%E5%93%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>成品</h3>\n<p><img src=\"/assets/image/red-arrow/1.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/2.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/3.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/4.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/5.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/6.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/7.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/8.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/9.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/10.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/12.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/red-arrow/11.jpg\" alt=\"box\"></p>\n<p>最后一图能看到一些龟裂。</p>\n<h3 id=\"后话\"><a href=\"#%E5%90%8E%E8%AF%9D\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后话</h3>\n<p>龟裂的问题是最大的翻车点，好在总体能看。回头想一下觉得跟使用的匠域的红色漆有关，前面各种光油也不是没有喷过，有的根本没有等漆面干直接就怼上去了，都没有出现这种吓人的事情。光油真的是做模型一大难点啊，才不是想象中那么简单。</p>\n<p>下一个换换心情：炸逼 B-25</p>","id":"e95bdf9f-55e1-5420-8128-85fdcfa224e9","fields":{"slug":"2019-10-10"},"frontmatter":{"date":"2019-10-10","title":"HobbyBoss英国鹰式T-mk1教练机红箭表演队涂装1:48(81738)","category":"ScaleModel","tags":["飞机","现代","英","1:48"],"banner":"/assets/image/red-arrow/3.jpg"},"timeToRead":1},"next":null}}}