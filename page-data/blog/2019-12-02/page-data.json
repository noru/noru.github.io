{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2019-12-02","result":{"data":{"markdownRemark":{"html":"<p>咸鱼上收的，用来填补二战轰炸机的空白。本以为轰炸机会很大，故意买72比例的。实际也还可以接受，甚至比现代的72比例重型战机还小一点。比这大一号的b-17/24可能刚刚好。事实上可能是我错误估计了B-25的尺寸。在Nimono博物馆看到的真机，确实感觉都没有旁边的米格25彪悍。想想也是，作为在《珍珠港》(实际也是)里面从航母起飞去轰炸东京的飞机，能大到哪里去。</p>\n<p><img src=\"/assets/image/b-25/nimono.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/nimono2.jpg\" alt=\"box\"></p>\n<p>真机确实不大。</p>\n<h3 id=\"overview-810\" style=\"position:relative;\"><a href=\"#overview-810\" aria-label=\"overview 810 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview (8/10)</h3>\n<p><img src=\"/assets/image/b-25/box.jpg\" alt=\"box\"></p>\n<p>板件超出了我对长谷川的期望，算是配合度上佳的产品了。机身铆钉不多，机翼尚可，还是需要自己补一些。水贴很有意思但是很厚，不太好贴，即使用了软化剂。由于这时期轰炸机靠前的中心，导致这个产品必须要配很重的配重才能做到不抬头，但是由于机头全部是透明件，根本没有空间放配重，于是板件很识趣的配送了小支架，放在尾部成员出入口出。稍显遗憾。</p>\n<h3 id=\"制作\" style=\"position:relative;\"><a href=\"#%E5%88%B6%E4%BD%9C\" aria-label=\"制作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>制作</h3>\n<p>本作的主要麻烦的地方在于配色：想用现有的暗绿色配上其他色调出美陆军的Olive Drab，但最后还是没有达到理想的效果。再次证明了调色是不能碰的领域。想想作为一款大量生产的中型轰炸机，服役于全球各个国家，配色多种多样，也就不必太纠结了吧，毕竟现存的真机也没有几个看着很符合Olive Drab的颜色。</p>\n<p>还有就是要命的透明件遮盖，这一时期飞机永远的痛。</p>\n<p>还尝试了撒盐大法(Salt Weathering)，可是并不很成功。起初，没有掌握好漆的浓度，导致第二层漆与底漆过度不自然。并且此方法，对盐粒撒的是否均匀要求很高，不然出来的色差都是块状的而非颗粒状。最后融化的盐粒在干后会比较牢固的粘在表面，清除起来比较麻烦，有时还会带坏一些漆面。后续不大想再运用这个方法了，或者看看要不要结合一下视频纠正一些操作再试。</p>\n<p>最后，喷了郡士的水性消光光油，不知道为什么，在某些地方留下了一些水痕一般的痕迹，手动无视。</p>\n<h3 id=\"成品\" style=\"position:relative;\"><a href=\"#%E6%88%90%E5%93%81\" aria-label=\"成品 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>成品</h3>\n<p><img src=\"/assets/image/b-25/1.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/2.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/3.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/4.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/5.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/6.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/7.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/8.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/9.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/10.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/11.jpg\" alt=\"box\"></p>\n<p><img src=\"/assets/image/b-25/12.jpg\" alt=\"box\"></p>\n<h3 id=\"后话\" style=\"position:relative;\"><a href=\"#%E5%90%8E%E8%AF%9D\" aria-label=\"后话 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后话</h3>\n<p>总体来讲，由于心急出现了一些瑕疵，但还算满意。总算填补了一项空白，后面没特殊原因先不碰炸逼了。</p>","fields":{"slug":"2019-12-02"},"frontmatter":{"title":"长谷川B-25J Mitchell轰炸机 1:72","date":"02.12.2019","category":"ScaleModel","tags":["飞机","WWII","美","1:72"],"banner":"/assets/image/b-25/5.jpg"},"timeToRead":2}},"pageContext":{"slug":"2019-12-02","prev":{"excerpt":"水一篇代码相关的 blog. 最近在做微信小程序, 设计稿上有一个省略号依次颜色变化组成的 loading 组件. 据说来自微信 UI 设计标准, 可是哪里都找不到, 只能自制了. 顺便吐槽一下小程序的设计和文档, 真是 tmd... 思路 效果主要就是省略号中各个点周期性交替闪烁. 闪烁可以有多种表现形式, 如颜色或者透明度变化, 这方面倒不是什么大问题. 如何支持任意个数的\"点\"是需要思考的地方. 经过一些实验, 打算采取通过子元素作为 stub…","html":"<blockquote>\n<p>水一篇代码相关的 blog.</p>\n</blockquote>\n<p>最近在做微信小程序, 设计稿上有一个省略号依次颜色变化组成的 loading 组件. 据说来自微信 UI 设计标准, 可是哪里都找不到, 只能自制了. 顺便吐槽一下小程序的设计和文档, 真是 tmd...</p>\n<h3 id=\"思路\" style=\"position:relative;\"><a href=\"#%E6%80%9D%E8%B7%AF\" aria-label=\"思路 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>思路</h3>\n<p>效果主要就是省略号中各个点周期性交替闪烁. 闪烁可以有多种表现形式, 如颜色或者透明度变化, 这方面倒不是什么大问题. 如何支持任意个数的\"点\"是需要思考的地方. 经过一些实验, 打算采取通过子元素作为 stub 控制个数, <code class=\"language-text\">:nth-child()</code>伪元素和<code class=\"language-text\">animation-delay</code>来控制交替. <code class=\"language-text\">animation-delay</code>可以设为负值来避免初始状态的问题, 也算是覆盖到了知识盲点.</p>\n<h3 id=\"代码\" style=\"position:relative;\"><a href=\"#%E4%BB%A3%E7%A0%81\" aria-label=\"代码 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>代码</h3>\n<h4 id=\"css\" style=\"position:relative;\"><a href=\"#css\" aria-label=\"css permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSS</h4>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> blink</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.2<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> gray<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 861112px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> blink 1s ease-in-out -1s infinite alternate<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 1)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 2)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.ellipsis-loading i:nth-child(3n + 3)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -1.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"dom\" style=\"position:relative;\"><a href=\"#dom\" aria-label=\"dom permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM</h4>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ellipsis-loading<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"demo\" style=\"position:relative;\"><a href=\"#demo\" aria-label=\"demo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Demo</h3>\n<style>\n  @keyframes blink {\n    from { opacity: 1; }\n    to   { opacity: 0.2; }\n  }\n  #playground {\n    width: 500px;\n    height: 300px;\n    background: white;\n    font-size: 30px;\n    text-align: center;\n    padding-top: 50px;\n    margin-bottom: 80px;\n  }\n  .ellipsis-loading i {\n    display: inline-block;\n    width: 1em;\n    height: 1em;\n    background: gray;\n    border-radius: 861112px;\n    animation: blink 1s ease-in-out -1s infinite alternate;\n  }\n  .ellipsis-loading i:nth-child(3n + 1) {\n    animation-delay: -.5s;\n  }\n  .ellipsis-loading i:nth-child(3n + 2) {\n    animation-delay: -.1s;\n  }\n  .ellipsis-loading i:nth-child(3n + 3) {\n    animation-delay: -1.5s;\n  }\n</style>\n<div id=\"playground\">\n  <span>文字</span>\n  <span class=\"ellipsis-loading\">\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span class=\"ellipsis-loading\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span style=\"font-size:.5em\">0.5倍字体</span>\n  <span class=\"ellipsis-loading\" style=\"font-size:.5em\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n  <br>\n  <span style=\"font-size:.5em\">4个点</span>\n  <span class=\"ellipsis-loading\" style=\"font-size:.5em\">\n    <i></i>\n    <i></i>\n    <i></i>\n    <i></i>\n  </span>\n</div>","id":"f83a9adb-8f51-5615-9bb7-49f5baca476c","fields":{"slug":"2019-11-07-t-10-00-z"},"frontmatter":{"date":"2019-11-07T10:00Z","title":"CSS省略号样式Loading","category":"Code","tags":["css","animation","小事儿"],"banner":"/assets/image/css-svg-anim/spinner-blocked.png"},"timeToRead":1},"next":{"excerpt":"Talk is cheap, show me the GitHub 前言 听说到scala.js已经有一两年了吧。印象已经不深，只记得还在知乎上面劝别人不要用这个。当然，不是因为对scala本身有什么意见，而是这个东西剑走偏锋又脱离社区太远，必定不会是一个愉快的开发体验。 虽然这个偏负面的判断不是实践得来，却是合理甚至是必然的。 x  = 。这个套在/这一对好基友上面就是相互放大。反看, 两个因数都是小于…","html":"<p><strong>Talk is cheap, show me the</strong> <a href=\"https://github.com/noru/snake\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><img src=\"https://img.shields.io/github/forks/noru/snake.svg?label=Souce%20Code&#x26;style=social#nopreview\" alt=\"GitHub\"></a></p>\n<iframe src=\"https://blog.xiuz.hu/snake\" frameBorder=\"0\" width=\"100%\" height=\"500\" style=\"max-width:600px;margin-left:50%;transform:translateX(-50%);overflow:hidden;\"></iframe>\n<h2 id=\"前言\" style=\"position:relative;\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<p>听说到<a href=\"https://www.scala-js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">scala.js</a>已经有一两年了吧。印象已经不深，只记得还在知乎上面劝别人不要用这个。当然，不是因为对scala本身有什么意见，而是这个东西剑走偏锋又脱离社区太远，必定不会是一个愉快的开发体验。</p>\n<p>虽然这个偏负面的判断不是实践得来，却是合理甚至是必然的。<code class=\"language-text\">语言特性</code> x <code class=\"language-text\">社区资源</code> = <code class=\"language-text\">成功程度</code>。这个套在<code class=\"language-text\">ts</code>/<code class=\"language-text\">js</code>这一对好基友上面就是相互放大。反看<code class=\"language-text\">scala.js</code>, 两个因数都是小于1的，只能越乘越小。</p>\n<p>之所以现在又想做一些相关的摸索，是因为最近主要在使用<code class=\"language-text\">ts</code>做小程序的开发。小程序的社区资源相比web圈还是要缩水很多的，很多已经习惯的工具链在这里只能兜着用，手脚放不开。缺失了工具的情况下，很多代码中烦扰的问题就自然而然的寻求来自语言本身的解决方案。事实上在这种情况下，<code class=\"language-text\">ts</code>确实是且只是<code class=\"language-text\">js</code>的超集，并不能让人满意。举个例子，例如最能解决当前痛点的两个语言层面的功能当属<code class=\"language-text\">pattern matching</code>和<code class=\"language-text\">pipe operator</code>, 这两个<code class=\"language-text\">proposal</code>还都处于<code class=\"language-text\">stage1</code>状态，远水解不了近渴。更不要提诸如<code class=\"language-text\">immutable</code>之类。</p>\n<p>总结下来，有很多痛点都是主流的函数式编程语言已经解决了的。所以开始思考<code class=\"language-text\">FP compile to js</code>的方案。最先想到的当然是facebook的<code class=\"language-text\">ReasonML</code>，但是强制写分号让我迅速转到了下一个目标<code class=\"language-text\">fable</code>，希望能得到近似typescript的体验，结果并不能。<code class=\"language-text\">fable</code>一副老派<code class=\"language-text\">.Net</code>的作风，又是<code class=\"language-text\">.proj</code>又是安装dotnet又是visual studio又是NuGet的，虽然语言层面上很满意，但还是不太想下手。最后决定重拾scala，于是就有了现在这个项目。</p>\n<h2 id=\"搭建\" style=\"position:relative;\"><a href=\"#%E6%90%AD%E5%BB%BA\" aria-label=\"搭建 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>搭建</h2>\n<p>脱离了<code class=\"language-text\">npm init</code>一把梭，真的是很不习惯。scala.js使用<code class=\"language-text\">sbt</code>作为构建工具，倒不是很陌生。JDK配置安装一条龙逃不掉的，紧接着maven下载包也要花上不少时间。总体来说还算可以接受。</p>\n<p>然而紧接着，就是扑面而来的来自JVM的问候：各种说着奇怪语言的报错和没有IDE就寸步难行的调试步骤。</p>\n<p>勉强熬过了所有错误，然后开始配置IDE。JVM上就认准Intellij错不了，但是那个速度在习惯了VS Code之后真的接受不了。还是配一下Scala的Language Server吧，官方推荐的<a href=\"https://scalameta.org/metals/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Metals</a>在vscode中竟然出人意料的简单，确实差不多<code class=\"language-text\">One Click Installation</code>，这个倒是我没有想到的。这个过程还吃到一个瓜：原本的主流Scala Lang Server <a href=\"https://ensime.github.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ensime</a>和Metals之间的恩怨。</p>\n<p>Metals在补全和检查方面已经做到可以正常使用了，只是类型跳转，重命名等操作还是不灵。看来大场合还是要Intellij才行。</p>\n<h2 id=\"代码\" style=\"position:relative;\"><a href=\"#%E4%BB%A3%E7%A0%81\" aria-label=\"代码 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>代码</h2>\n<p>贪吃蛇从功能上讲，要比三消和（计划要写一个玩的）Pacman简单多了。DOM的渲染选择了<code class=\"language-text\">Scala.Binding</code>，一个敢叫板React的框架。由于只是简单做一下绑定和渲染，具体不评价。文档上面差强人意（易用性），但要解决的问题都找到了。个人觉得这个框架最多只做到了底层原理上的对标react，生产环境下的所必备的大部分功能肯定是缺失的，例如：路由，分包加载，状态管理。或者退一步讲，缺少成熟解决方案。</p>\n<p>最后大约<a href=\"https://github.com/noru/snake/blob/master/src/main/scala/snake/App.scala\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">100行多点</a>即完成了的游戏的功能，这里并没有追求行数，语法熟练或者刻意精简的话，我觉得50行甚至20行都不是问题。总结一下使用Scala写前端的体验。</p>\n<h3 id=\"优点\" style=\"position:relative;\"><a href=\"#%E4%BC%98%E7%82%B9\" aria-label=\"优点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>优点</h3>\n<ul>\n<li>Scala支持Native XML，体验接近jsx</li>\n<li>Pattern Matching</li>\n<li>Case Class 简化声明，简化判等操作</li>\n<li>Scala强大的Collections</li>\n<li>Scala的各种语法糖</li>\n</ul>\n<h3 id=\"缺点\" style=\"position:relative;\"><a href=\"#%E7%BC%BA%E7%82%B9\" aria-label=\"缺点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>缺点</h3>\n<ul>\n<li>无法debug。这个可能是最严重的Show Stopper。前端很多debug方法诸如<code class=\"language-text\">console.log</code>和<code class=\"language-text\">debugger</code>之类全部无效。Source Map没看见过。这里不排除我已经生疏了的因素，但这方面肯定有问题。</li>\n<li>第三方库。尚未尝试其他js库交互，想必免不了一番折腾。猜测Scala的Dynamics功能会出场这一块。</li>\n<li>打包体积。100行的代码打包出来180kb。这之中自然包含了Scala语言包相关依赖，但是还是很可观。优化方案未知。</li>\n<li>依赖IDE。这其实不一定是缺点，强类型语言自然需要IDE配合才能体现优势。</li>\n<li>与其他资源的结合成疑。例如：inline css, 图片，字体等。这些资源现在scala中没有位置，需要直接对接html文件，跟webpack中的体验无法相比。</li>\n</ul>\n<h2 id=\"总结\" style=\"position:relative;\"><a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"总结 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>总结</h2>\n<p>从各方面来讲，scala.js都达不到我认为生产可用的标准。融入js环境的程度需要跟ts一样才有可能进一步作为，因为在语言的接受程度上就已经是劣势。ts现如今拥有最多的社区资源，最顺滑的开发体验，这已是scalajs不可能完成的任务了。</p>\n<p>返回来看初衷，也许ReasonML才是正确的选择，毕竟有react血统一致的优势，分号不分号的问题真是不值一提。后面会在摸索一下另外两种语言，说不定PacMan就用ReasonML来完成了。</p>","id":"358876d6-376d-5fd3-bee5-200462ca5ad8","fields":{"slug":"2019-12-08"},"frontmatter":{"date":"2019-12-08","title":"简单贪吃蛇游戏试水scala.js","category":"Code","tags":["game","web","js","scala"],"banner":"/assets/image/snake.png"},"timeToRead":4}}},"staticQueryHashes":["3969440572"]}