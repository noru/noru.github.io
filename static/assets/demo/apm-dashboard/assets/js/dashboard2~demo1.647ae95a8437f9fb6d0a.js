(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2061:function(e,t,n){"use strict";var r=n(409),a=n(199),o=n(3),i=n.n(o),c=n(572),l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s=c.a.data,u=c.a.networkhealth,p=1e4;function f(e,t,n,r,a){return l({interval:e,bufferCount:t,durationPerPage:n,itemPerPage:r},a)}var m=new r.Subject,d=new r.Subject,h=new r.Subject,y=new r.Subject,v=new r.Subject,b=new r.Subject,g=new r.Subject,_=new r.Subject,O=new r.Subject,w=new r.Subject,E=new r.Subject,j=m.switchMap(function(e){var t=e.due,n=e.interval;return r.Observable.timer(t,n).map(function(){return n})}).flatMap(function(e){return r.Observable.fromPromise(c.a.auth.refresh()).retryWhen(function(t){return M(t,e)})}).publish(),P=y.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){return r.Observable.fromPromise(s.assetIndex(0,200,e.month.value)).map(function(t){return{resp:t,conf:e}}).retryWhen(function(t){return M(t,e.interval)})}).switchMap(function(e){var t=e.resp,n=e.conf;return I(t,n.interval,n.bufferCount,n.durationPerPage)}).share(),S=v.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){return r.Observable.fromPromise(s.assetRepairStatus(0,200)).map(function(t){return{resp:t,conf:e}}).retryWhen(function(t){return M(t,e.interval)})}).switchMap(function(e){var t=e.resp,n=e.conf;return I(t,n.interval,n.bufferCount,n.durationPerPage)}).share(),A=b.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){var t=o().format("YYYY-MM-DD"),n=o().subtract(30,"days").format("YYYY-MM-DD");return r.Observable.fromPromise(s.userPerformance(n,t)).map(function(t){return{resp:t,conf:e}}).retryWhen(function(t){return M(t,e.interval)})}).switchMap(function(e){var t=e.resp,n=e.conf;return I(t,n.interval,n.bufferCount,n.durationPerPage,n.itemPerPage)}).share(),C=g.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){var t=o().add(15,"days").format("YYYY-MM-DD"),n=o().subtract(15,"days").format("YYYY-MM-DD");return r.Observable.fromPromise(s.insPm(n,t)).map(function(t){return{resp:t,conf:e}}).retryWhen(function(t){return M(t,e.interval)})}).share(),N=_.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){var t=e.interval;return r.Observable.fromPromise(s.assetNum()).retryWhen(function(e){return M(e,t)})}).share(),k=O.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){var t=e.interval,n=o().add(15,"days").format("YYYY-MM-DD"),a=o().subtract(15,"days").format("YYYY-MM-DD");return r.Observable.fromPromise(s.insPmList(a,n)).retryWhen(function(e){return M(e,t)})}).share(),z=w.switchMap(function(e){return r.Observable.timer(0,e.interval).map(function(){return e})}).flatMap(function(e){return r.Observable.fromPromise(s.assetInfo()).retryWhen(function(t){return M(t,e.interval)})}).share(),R=E.switchMap(function(e){var t=e.interval;return r.Observable.timer(0,t).flatMap(function(){return r.Observable.fromPromise(s.lifeSupportAsset())}).retryWhen(function(e){return M(e,t)})}).share(),D=new r.BehaviorSubject({isOnline:!0}),x=r.Observable.timer(0,6e4).switchMap(function(){return r.Observable.fromPromise(u.heartBeatTest()).catch(function(e){return console.error(e),r.Observable.of(e)})}).map(function(e){return{isOnline:!(e instanceof Error)}}).multicast(D);function I(e,t,n,a,o){o=o||n;var i=e.length,c=i%n;if(c>0&&(e=e.concat(Array(n-c).fill(null))),e.length<=o)return r.Observable.of({data:e,total:i,skip:0,top:o});var l=Math.ceil(e.length/o),s=Math.ceil(t/(a*l));return r.Observable.from(e).repeat(s).bufferCount(n).concatMap(function(e,t){return r.Observable.of([e]).delay(t&&a)}).flatMap(function(e){return e}).map(function(e,t){return{data:e,total:i,skip:t%l*o,top:o}})}function M(e,t){var n=D.getValue().isOnline?p:t;return e.do(W).delay(n)}function W(e){console.error(e),e.response&&console.error(e.response)}var T=n(2062),H=new r.BehaviorSubject({from:i()((new Date).getFullYear(),"YYYY").format(T.b),to:i()().format(T.b),groupby:"dept",range:[0,10]});function F(e){var t=e(H.getValue());H.next(t)}n.d(t,!1,function(){return a.c}),n.d(t,!1,function(){return a.a}),n.d(t,!1,function(){return a.b}),n.d(t,"y",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"x",function(){return d}),n.d(t,"s",function(){return h}),n.d(t,"b",function(){return y}),n.d(t,"w",function(){return v}),n.d(t,"r",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"u",function(){return _}),n.d(t,"j",function(){return O}),n.d(t,"d",function(){return w}),n.d(t,"n",function(){return E}),n.d(t,"e",function(){return j}),n.d(t,"a",function(){return P}),n.d(t,"v",function(){return S}),n.d(t,"q",function(){return A}),n.d(t,"k",function(){return C}),n.d(t,"t",function(){return N}),n.d(t,"i",function(){return k}),n.d(t,"c",function(){return z}),n.d(t,"m",function(){return R}),n.d(t,"p",function(){return D}),n.d(t,"o",function(){return x}),n.d(t,"g",function(){return H}),n.d(t,"h",function(){return F})},2062:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="YYYY-MM-DD",a="YYYY-MM-DD HH:mm"},2063:function(e,t){e.exports="data:image/png;base64,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"},2065:function(e,t,n){"use strict";var r,a=n(1),o=n(18),i=n.n(o),c=n(2011),l=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._onResize=Object(c.a)(function(){return n._chart&&n._chart.resize()},800),n._initChart=function(){var e=n.props,r=e.id,a=e.option,o=e.chart,c=document.getElementById(r);null!==c&&t.isSizeValid(c.clientWidth,c.clientHeight)&&(void 0===n._chart&&(n._chart=i.a.init(c)),o&&o(n._chart),a&&n._chart.setOption(a))},n}return l(t,e),t.isSizeValid=function(e,t){return e>0&&t>0},t.prototype.componentDidMount=function(){this._initChart(),window.addEventListener("resize",this._onResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this._onResize)},t.prototype.componentDidUpdate=function(){this._initChart()},t.prototype.render=function(){var e=this.props,t=e.id,n=e.width,r=e.height;return this._onResize(),a.createElement("div",{id:t,style:{width:u(n),height:u(r)}})},t}(a.PureComponent);function u(e){return"number"==typeof e?e+"px":e}t.a=s},2066:function(e,t,n){"use strict";var r,a=n(2065),o=(n(2027),n(2022),n(2023),n(2014),n(2026),r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a.a);t.a=i},2073:function(e,t,n){e.exports=n.p+"images/bg1.png?6df69c547e25d9cffbbd8722738988f2"},2074:function(e,t,n){e.exports=n.p+"images/dashboard2-bg.png?682ca299ab0d3d5f9c5a0a32d8fbfab0"},2075:function(e,t,n){"use strict";function r(e){if(e)return e/6e4}function a(e){if(e)return e/1e3}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},2076:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r,a=n(1),o=n(73),i=n(2011),c=n(2061),l=(n(2029),r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={viewportWidth:0,viewportHeight:0},t.reloadOnResize=Object(i.a)(function(){var e=u(),n=t.getBaseFontSize(e);t.setState(e),t.html.setAttribute("style","font-size:"+n+"px;overflow:hidden;")},100),t.getBaseFontSize=function(e){var n=e.viewportWidth,r=e.viewportHeight,a=n/r>1.333?.0165*r:.0105*n,o=t.props.dispatch;return o&&o({type:"dashboard2/set/font-size",payload:a}),a},t}return l(t,e),t.prototype.componentDidMount=function(){this.refreshToken(),this.isStandalone=!0,this.html=document.querySelector("html");var e=u(),t=this.getBaseFontSize(e);this.setState(e),this.isStandalone&&(this.html.setAttribute("style","font-size:"+t+"px;overflow:hidden;"),window.addEventListener("resize",this.reloadOnResize))},t.prototype.refreshToken=function(){this.tokenRefreshSubscription=c.e.connect(),c.f.next({due:0,interval:36e5})},t.prototype.componentWillUnmount=function(){this.html.removeAttribute("style"),window.removeEventListener("resize",this.reloadOnResize),this.tokenRefreshSubscription&&this.tokenRefreshSubscription.unsubscribe()},t}(a.PureComponent);function u(){return{viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}function p(){var e=o.a.get("hc-apm-profile");return e&&e.tenant}function f(){return!0}t.a=s},2118:function(e,t,n){var r={"./bg1.png":2073};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=2118},2120:function(e,t,n){},2122:function(e,t,n){},2124:function(e,t,n){},2126:function(e,t,n){},2128:function(e,t,n){},2130:function(e,t,n){},2132:function(e,t,n){},2134:function(e,t,n){},2136:function(e,t,n){},2138:function(e,t,n){},2140:function(e,t,n){},2142:function(e,t,n){},2144:function(e,t,n){},2146:function(e,t,n){},2148:function(e,t,n){},2150:function(e,t,n){},2152:function(e,t,n){},947:function(e,t,n){"use strict";n.r(t);var r,a=n(1),o=n.n(a),i=n(198),c=n(23),l=n(2076),s=(n(2012),n(2057)),u=n.n(s),p=(n(2028),n(2058)),f=n.n(p),m=(n(2045),n(2059)),d=n.n(m),h=n(73),y=n(2013),v=n.n(y),b=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={current:n.props.from},n}return b(t,e),t.prototype.componentDidMount=function(){var e=this,t=setInterval(function(){var n=e.state.current;e.state.current<=0?(clearInterval(t),e.props.onFinish()):e.setState({current:n-1})},this.props.interval)},t.prototype.render=function(){return o.a.createElement("span",null,this.state.current)},t.defaultProps={interval:1e3,onFinish:c.m},t}(o.a.Component),_=n(938),O=n.n(_),w=n(2063),E=(n(2152),n(3)),j=n.n(E),P=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};j.a.locale("zh-CN");var A,C,N,k,z,R,D,x,I,M,W,T,H="hc-apm-never-no-popover",F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dateTime:j()(),popOverCountDown:h.c.get(H)?0:10},t._popover=a.createElement("span",{className:"popover-actions is-flex"},a.createElement("a",{onClick:function(){return t.closePopover(!0)}},t.props.t(A||(A=S(["never_show_again"],["never_show_again"])))),a.createElement("a",{onClick:function(){return t.closePopover()}},t.props.t(C||(C=S(["close"],["close"]))),"(",a.createElement(g,{from:t.state.popOverCountDown,onFinish:function(){return t.closePopover()}}),")")),t.logout=function(){var e=t.props,n=e.t,r=e.history;confirm(n(N||(N=S(["logout_confirm_message"],["logout_confirm_message"]))))&&(h.a.clear(),r.push("/login?redirect=/dashboard2"))},t.toggleFullscreen=function(e){e?c.j.Android()?window.location.reload():Object(c.e)():Object(c.r)()},t.switchBackground=function(){var e=t.props.history;e.location.search.includes("bg=1")?e.push("/dashboard2"):e.push("/dashboard2?bg=1")},t}return P(t,e),t.prototype.closePopover=function(e){void 0===e&&(e=!1),this.setState({popOverCountDown:0}),e&&h.c.set(H,!0)},t.prototype.componentDidMount=function(){var e=this;this._intervalId=setInterval(function(){e.setState({dateTime:j()()})},6e4)},t.prototype.componentWillUnmount=function(){clearInterval(this._intervalId)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,r=t.t,o=t.hospitalName,i=t.flyby,l=t.onHierachyConfig,s=t.onLayoutConfig,p=t.onIntervalConfig,m=this.state,h=m.dateTime,y=m.popOverCountDown,b=Object(c.i)();return a.createElement("nav",{className:"dashboard-header level",style:n},a.createElement("div",{className:"level-left"},a.createElement("div",{className:"level-item"},a.createElement("figure",{className:"image is-24x24"},a.createElement("img",{src:w}))),a.createElement("div",{className:"app-title level-item"},r(k||(k=S(["app_title"],["app_title"]))))),a.createElement("div",{className:"level-item centered"},a.createElement("div",{className:"hospital-name-bg"}),a.createElement("div",{className:"hospital-name"},a.createElement("p",null,o||" - "),a.createElement("div",{className:"flyby-area"},a.createElement(O.a,{duration:9e3},i)))),a.createElement("div",{className:"level-right"},a.createElement(d.a,{visible:y>0,placement:"leftTop",title:a.createElement("div",{style:{textAlign:"center",padding:"1em"}},r(z||(z=S(["here_is_config"],["here_is_config"])))),content:this._popover},a.createElement(f.a,{overlay:a.createElement(u.a,{className:"header-menu",theme:"dark"},a.createElement(u.a.Item,null,a.createElement("a",{onClick:l},a.createElement(v.a,{name:"sitemap"}),r(R||(R=S(["hierarchy_config"],["hierarchy_config"]))))),a.createElement(u.a.Item,null,a.createElement("a",{onClick:s},a.createElement(v.a,{name:"cog"}),r(D||(D=S(["layout_config"],["layout_config"]))))),a.createElement(u.a.Item,null,a.createElement("a",{onClick:p},a.createElement(v.a,{name:"clock-o"}),r(x||(x=S(["interval_config"],["interval_config"]))))),a.createElement(u.a.Item,null,a.createElement("a",{onClick:function(){return e.toggleFullscreen(b)}},a.createElement(v.a,{name:b?"compress":"expand"}),r(b?I||(I=S(["exit_fullscreen"],["exit_fullscreen"])):M||(M=S(["enter_fullscreen"],["enter_fullscreen"]))))),a.createElement(u.a.Item,null,a.createElement("a",{onClick:function(){return e.switchBackground()}},a.createElement(v.a,{name:"picture-o"}),r(W||(W=S(["change_background_image"],["change_background_image"]))))),a.createElement(u.a.Item,null,a.createElement("a",{onClick:this.logout},a.createElement(v.a,{name:"sign-out"}),r(T||(T=S(["logout"],["logout"]))))))},a.createElement("a",null,a.createElement("p",null,h.format("LL")),a.createElement("p",null,h.format("dddd")," ",h.format("LT")))))))},t}(a.PureComponent),Y=Object(i.translate)(["common","dashboard2"])(F),G=n(571),B=n.n(G),L=(n(2150),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.config;return a.createElement("div",{className:B()("dashboard-layout",n),style:t},a.createElement("div",{className:"columns"},r.map(function(e,t){return a.createElement(Q,{key:t,config:e,className:"column-"+t})})))},t}(a.PureComponent);function Q(e){var t=e.config,n=e.className;return a.createElement("div",{className:B()("column",n)},a.createElement("div",{className:"row-container"},t.map(function(e,t){return a.cloneElement(e,{key:t,className:"row-"+t})})))}var U=n(570),Z=n(2),J=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function V(e,t){return function(n){return function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return J(r,n),r.prototype.componentDidMount=function(){var r=this;n.prototype.componentDidMount&&n.prototype.componentDidMount.call(this),this.runner=Z.Observable.timer(0,e).do(function(){return r[t]&&r[t]()}).subscribe()},r.prototype.componentWillUnmount=function(){this.runner&&this.runner.unsubscribe()},r}(n)}}var K=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$={transition:"min-width .5s, min-height .5s, top .5s, left .5s, font-size .5s",minHeight:0,minWidth:0,top:"initial",left:"initial"},ee={position:"absolute",zIndex:999999,minWidth:"100vw",minHeight:"100vh",top:0,left:0,padding:"1em",background:"url("+n(2074)+")",backgroundSize:"cover",backgroundColor:"#1C1E22"},te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.enabled!==e.enabled&&setTimeout(function(){window.dispatchEvent(new Event("resize-custom"))},0)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,r=t.enabled,o=t.className,i=t.children,c=r?X({},ee,n):n;return a.createElement("div",{className:"fullsize-placeholder",ref:function(t){return e._ref=t}},a.createElement("div",{className:G(o,"fullsize",r&&"fullsize-enabled"),style:X({},$,c)},i))},t.defaultProps={enabled:!1,style:{},className:""},t}(a.PureComponent),ne=(n(2148),function(e){var t=e.children,n=e.className,r=e.fullSize,o=void 0!==r&&r,i=e.style,c=void 0===i?{}:i;return a.createElement(te,{className:G("chart-background-2",n),enabled:o,style:c},t)}),re=(n(2146),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ae=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"assets_overview"===n?void 0:"assets_overview"})},t}return re(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/asset-overview"})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.data,r=e.fullscreened,a=n.overall,i=n.largeScreen;a=a||{},i=i||{};var c=t(ie||(ie=ae(["asset_unit"],["asset_unit"])));return o.a.createElement(ne,{className:"asset-quantity-2",style:{fontSize:r?"4em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(ce||(ce=ae(["assets_overview"],["assets_overview"])))),o.a.createElement("h2",null,t(le||(le=ae(["all_assets"],["all_assets"])))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(se||(se=ae(["assets_total_count"],["assets_total_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,a.total),o.a.createElement("span",null,c))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(ue||(ue=ae(["available_assets_count"],["available_assets_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,a.available),o.a.createElement("span",null,c))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(pe||(pe=ae(["halt_assets_count"],["halt_assets_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,a.down),o.a.createElement("span",null,c)))),o.a.createElement("h2",null,t(fe||(fe=ae(["dafang_assets"],["dafang_assets"])))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(me||(me=ae(["assets_total_count"],["assets_total_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,i.total),o.a.createElement("span",null,c))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(de||(de=ae(["available_assets_count"],["available_assets_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,i.available),o.a.createElement("span",null,c))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(he||(he=ae(["halt_assets_count"],["halt_assets_count"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,i.down),o.a.createElement("span",null,c)))))},t}(o.a.PureComponent);var ie,ce,le,se,ue,pe,fe,me,de,he,ye,ve,be,ge,_e,Oe,we,Ee,je,Pe=h.c.get("assets_overview"),Se=Object(c.b)(oe,V(Pe.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("AssetOverview"),fullscreened:t.get("fullscreened")}})),Ae=n(2062),Ce=(n(2144),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ne=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"event_overview"===n?void 0:"event_overview"})},t}return Ce(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=j()().format(Ae.b),n=h.c.get("event_overview");e({type:"dashboard2/get/event-overview",payload:{from:j()().subtract(n.month.value,"month").format(Ae.b),to:t}})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.data,r=e.fullscreened,a=n.toHandle,i=n.outOfWarranty,c=n.inMeasuring,l=n.inMaintain,s=n.inInspection,u=n.inPM,p=t(ye||(ye=Ne(["event_unit"],["event_unit"]))),f=t(ve||(ve=Ne(["asset_unit"],["asset_unit"])));return o.a.createElement(ne,{className:"event-overview",style:{fontSize:r?"4em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(be||(be=Ne(["event_overview"],["event_overview"])))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(ge||(ge=Ne(["event_to_handle"],["event_to_handle"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,a),o.a.createElement("span",null,p))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(_e||(_e=Ne(["in_fixing"],["in_fixing"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,l),o.a.createElement("span",null,p))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(Oe||(Oe=Ne(["in_pm"],["in_pm"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,u),o.a.createElement("span",null,p)))),o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(we||(we=Ne(["in_metering"],["in_metering"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,c),o.a.createElement("span",null,p))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(Ee||(Ee=Ne(["in_inspection"],["in_inspection"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,s),o.a.createElement("span",null,p))),o.a.createElement("div",{className:"column"},o.a.createElement("h3",null,t(je||(je=Ne(["warrant_due"],["warrant_due"])))),o.a.createElement("p",{className:"count"},o.a.createElement("span",null,i),o.a.createElement("span",null,f)))))},t}(o.a.PureComponent),ze=h.c.get("event_overview"),Re=Object(c.b)(ke,V(ze.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("EventOverview"),fullscreened:t.get("fullscreened")}})),De=n(10),xe=n.n(De),Ie=n(2011),Me=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Te=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={width:0,height:0,left:0,right:0,top:0,bottom:0},e.calcRect=Object(Ie.a)(function(){for(var t=xe.a.findDOMNode(e),n=[];t.firstChild;)n.push(t.removeChild(t.firstChild));setTimeout(function(){var r=t.getBoundingClientRect();n.forEach(function(e){return t.appendChild(e)}),e.setState({width:r.width,height:r.height,left:r.left,right:r.right,top:r.top,bottom:r.bottom})},1500)},200),e}return Me(n,t),n.prototype.componentDidMount=function(){var e=this;setTimeout(function(){return e.calcRect()}),window.addEventListener("resize",this.calcRect),window.addEventListener("resize-custom",this.calcRect)},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.calcRect),window.removeEventListener("resize-custom",this.calcRect)},n.prototype.render=function(){return o.a.createElement(e,We({},this.props,{clientRect:We({},this.state)}))},n}(o.a.Component)},He=n(2020),Fe=n.n(He),Ye=n(933),Ge=(n(2142),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Be=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Le=h.c.get("work_order"),qe=Le.showWarning.value,Qe=Le.showAlert.value;var Ue,Ze,Je,Ve,Ke,Xe,$e,et,tt,nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={rows:new Array},t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"work_order"===n?void 0:"work_order"})},t}return Ge(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=E().format(Ae.b);e({type:"dashboard2/get/work-orders",payload:{from:E().subtract(this._config.month.value,"month").format(Ae.b),to:t}})},t.prototype.componentDidMount=function(){this._config=h.c.get("work_order")},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.data,r=e.clientRect;if(!(Object(c.s)(n,{})||n===this.props.data&&Object(c.s)(this.props.clientRect,r))){var a=this.props.fontSize,o=at(r.height,1.25*a);this._pagination&&this._pagination.unsubscribe(),this._pagination=Ye.Observable.timer(0,this._config.intervalPerPage).do(function(e){var r=e%Math.ceil(n.length/o)*o,a=r+o;t.setState({rows:n.slice(r,a)})}).subscribe()}},t.prototype.componentWillUnmount=function(){this._pagination.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.t,n=e.fullscreened,r=this.state.rows;return o.a.createElement(ne,{className:"maintenance-status-2",style:{fontSize:n?"2em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(Ue||(Ue=Be(["work_order"],["work_order"])))),o.a.createElement("div",{className:"table-container"},o.a.createElement(ot,{rows:r,t:t})))},t}(o.a.PureComponent),rt=Object(c.b)(nt,V(Le.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("WorkOrders"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}}));function at(e,t,n,r){void 0===r&&(r=12),n=n||1.62*t;var a=e>80?(e-80)/n|0:0;return Math.max(a,r)}function ot(e){var t=e.rows,n=e.t;return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("span",null,n(Ze||(Ze=Be(["asset_name"],["asset_name"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n(Je||(Je=Be(["sector"],["sector"]))),"/",n(Ve||(Ve=Be(["dept"],["dept"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n(Ke||(Ke=Be(["reporter"],["reporter"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n(Xe||(Xe=Be(["process_time"],["process_time"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n($e||($e=Be(["processor"],["processor"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n(et||(et=Be(["since_open"],["since_open"]))))),o.a.createElement("th",null,o.a.createElement("span",null,n(tt||(tt=Be(["status"],["status"]))))))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:String(t),className:(n=+e.daysSinceReported.replace("天",""),Object(c.h)(n,0,qe,[!0,!1])?"":Object(c.h)(n,qe,Qe,[!0,!1])?"warn":n>=Qe?"alert":void 0)},o.a.createElement(it,{className:"asset-name"},o.a.createElement(Fe.a,null,e.assetName)),o.a.createElement(it,null,e.clinicalDept),o.a.createElement(it,null,e.reporter),o.a.createElement(it,null,e.updateDate&&e.updateDate.substr(0,16).replace(new RegExp("-","g"),"/")),o.a.createElement(it,null,e.worker),o.a.createElement(it,null,e.daysSinceReported),o.a.createElement(it,null,e.statusLabel));var n})))}function it(e){var t=e.rowSpan,n=e.children,r=e.className;return o.a.createElement("td",{rowSpan:t},o.a.createElement("div",{key:String(Math.random()),className:r,style:{lineHeight:"1.3em",minHeight:"1.3em"}},n))}n(2140);var ct,lt,st,ut,pt,ft,mt,dt,ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vt={orderType:"",assetName:"",clinicalDept:"",owner:"",planStartTime:"",planEndTime:"",status:"",statusLabel:""},bt={3:"to-pick"},gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pmOrders:new Array,inspectionOrders:new Array,measuringOrders:new Array},t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"pmi_order"===n?void 0:"pmi_order"})},t}return ht(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=E().add(this._config.untilNDays.value,"day").format(Ae.b);e({type:"dashboard2/get/pmi-orders",payload:{from:E().subtract(this._config.pastNDays.value,"day").format(Ae.b),to:t}})},t.prototype.componentDidMount=function(){this._config=h.c.get("pmi_order")},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.data,r=e.clientRect;if(!(Object(c.s)(n,{})||n===this.props.data&&Object(c.s)(this.props.clientRect,r))){this._pagination&&this._pagination.unsubscribe();var a=this.props.fontSize,o=at(r.height,1.25*a),i=n.inspectionOrders,l=n.measuringOrders,s=n.pmOrders,u=o/function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!Object(c.k)(e)}).length}(i,l,s)|0;this._pagination=Ye.Observable.timer(0,this._config.intervalPerPage).do(function(e){t.setState({pmOrders:jt(s,u,e%Pt(s.length,u)),inspectionOrders:jt(i,u,e%Pt(i.length,u)),measuringOrders:jt(l,o-2*u,e%Pt(l.length,u))})}).subscribe()}},t.prototype.componentWillUnmount=function(){this._pagination.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.t,n=e.fullscreened,r=this.state,a=r.inspectionOrders,i=r.measuringOrders,c=r.pmOrders;return o.a.createElement(ne,{className:"pmi-orders",style:{fontSize:n?"2em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(ct||(ct=yt(["pmi_order"],["pmi_order"])))),o.a.createElement("div",{className:"table-container"},o.a.createElement(wt,{pm:c,inspection:a,meter:i,t:t})))},t}(o.a.PureComponent),_t=h.c.get("pmi_order"),Ot=Object(c.b)(gt,V(_t.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("PMIOrders"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}}));function wt(e){var t=e.t,n=e.pm,r=void 0===n?new Array:n,a=e.meter,i=void 0===a?new Array:a,c=e.inspection,l=void 0===c?new Array:c;return o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("span",null,t(lt||(lt=yt(["order_type"],["order_type"]))))),o.a.createElement("th",null,o.a.createElement("span",null,t(st||(st=yt(["asset_name"],["asset_name"]))))),o.a.createElement("th",null,o.a.createElement("span",null,t(ut||(ut=yt(["sector"],["sector"]))),"/",t(pt||(pt=yt(["dept"],["dept"]))))),o.a.createElement("th",null,o.a.createElement("span",null,t(ft||(ft=yt(["processor"],["processor"]))))),o.a.createElement("th",null,o.a.createElement("span",null,t(mt||(mt=yt(["planned_end_time"],["planned_end_time"]))))),o.a.createElement("th",null,o.a.createElement("span",null,t(dt||(dt=yt(["status"],["status"]))))))),o.a.createElement("tbody",null,r.map(Et),l.map(Et),i.map(Et)))}function Et(e,t,n){return o.a.createElement("tr",{key:e.orderType+t,className:e.expired?"to-close":bt[e.status]},0===t&&o.a.createElement(it,{rowSpan:n.length,className:"order-type"},e.orderType),o.a.createElement(it,{className:"asset-name"},o.a.createElement(Fe.a,null,e.assetName)),o.a.createElement(it,null,e.clinicalDept),o.a.createElement(it,null,e.owner),o.a.createElement(it,null,(e.planEndTime||"").replace(new RegExp("-","g"),"/")),o.a.createElement(it,null,e.statusLabel))}function jt(e,t,n){if(Object(c.k)(e))return[];var r=t*n,a=r+t,o=e.slice(r,a);return o.length<t&&(o=o.concat(new Array(t-o.length).fill(vt))),o}function Pt(e,t){return Math.ceil(e/t)}var St,At,Ct=n(2019),Nt=(n(2138),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),kt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"life_support_assets_perfectness_ratio"===n?void 0:"life_support_assets_perfectness_ratio"})},t}return Nt(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/life-support-usage"})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.data,r=e.fullscreened;return o.a.createElement(ne,{className:"life-support-assets",style:{fontSize:r?"4em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(St||(St=kt(["life_support_assets_perfectness_ratio"],["life_support_assets_perfectness_ratio"])))),o.a.createElement("div",{className:"columns"},n.map(function(e,n){return o.a.createElement(xt,{key:n,name:e.assetGroup,total:e.total,available:e.available,unit:t(At||(At=kt(["asset_unit"],["asset_unit"])))})})))},t}(o.a.PureComponent),Rt=h.c.get("life_support_assets_perfectness_ratio"),Dt=Object(c.b)(zt,V(Rt.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("LifeSupportUsage"),fullscreened:t.get("fullscreened")}}));function xt(e){var t=e.name,n=e.total,r=e.available,a=e.unit;return n=r,o.a.createElement("div",{className:"chart column has-text-centered"},o.a.createElement("p",null,Object(c.u)(r/n)),o.a.createElement("div",{className:"donut-chart"},o.a.createElement("p",{className:"count"},r,a),o.a.createElement(Ct.a,{lineWidth:7,rounded:!0,totalValue:n,startAngle:-90,data:[{value:r,key:1,color:"#00b0f0"},{value:n-r,key:2,color:"transparent"}]})),o.a.createElement("p",null,t))}var It=n(2065),Mt=(n(2044),n(2023),n(2014),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mt(t,e),t}(It.a),Tt=(n(2136),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ht=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ft=new Image;Ft.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAAAXNSR0IArs4c6QAAAVFJREFUKBVdkjtOw0AURQ92/AlO+DRIFFBQ0CNWQJyIPQCBrWQJlFDwaWAFIIEj0bEgJAQkzof7ZuwQ4e5pzty59z6vcPk+p7UBLzcw/oFuH5otzbcwKaF3DlEMxb07DxZw+R8e+8tRAq+CZ1PIzwhJ0gEGa6C5pkNTNljKSar5TvDEz+1NAkaCOwa3dShb5cgrJ80/2Gw1ZOvpShfyU8gq5QW86l+aSrmGh7IlJwGZBZYNB0spzTw8qWyYsrNlGfrLGep25HnRTpVhPvM2Je4z6KarcjlwJLiwwILNVhjB8zUN3456N7hUOz1djitll+ECgobfg9pThjpw1XtsgaVscFewKRcKXNkKiZOBU7YNJ0vt2B4ssNlysOZsXS9YwKMTwerdlGyjHVVtv8NQs3221CB0GQIOctjZh7cH+PqAwx5s7/n5+1PzMWztan501f8C1ZCZhGHyJB8AAAAASUVORK5CYII=";var Yt,Gt,Bt,Lt=[{i18n:"maintenance_order",keys:["pmInPlan","pmClosed","pmClosedInTime","pmInTimeRate"]},{i18n:"metering_order",keys:["measuringInPlan","measuringClosed","measuringClosedInTime","measuringInTimeRate"]},{i18n:"inspection_order",keys:["inspectionInPlan","inspectionClosed","inspectionClosedInTime","inspectionInTimeRate"]}],qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"pmi_statistics"===n?void 0:"pmi_statistics"})},t}return Tt(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=h.c.get("pmi_statistics"),n=j()().add(1,"month").format(Ae.b);e({type:"dashboard2/get/pmi-stats",payload:{from:j()().subtract(t.month.value,"month").format(Ae.b),to:n}})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.data,r=e.fontSize,a=e.fullscreened;a&&(r*=3);var i=4*r;return o.a.createElement(ne,{className:"mmi-statistics",style:{fontSize:a?"4em":""}},o.a.createElement("h1",{onClick:this._toggleFullscreen},t(Yt||(Yt=Ht(["pmi_statistics"],["pmi_statistics"])))),o.a.createElement("div",{className:"columns"},Lt.map(function(e,r){var a=e.i18n,c=e.keys,l=n[c[0]],s=n[c[1]],u=n[c[2]],p=n[c[3]];return o.a.createElement(Vt,{key:r,baseRadius:i,name:t(a),plan:l||0,closed:s||0,closedOnTime:u||0,rate:p})})),o.a.createElement("div",{className:"legend"},o.a.createElement("span",{className:"legend-1"},t(Gt||(Gt=Ht(["planned_orders_count"],["planned_orders_count"])))),o.a.createElement("span",{className:"legend-2"},t(Bt||(Bt=Ht(["closed_on_time_orders_count"],["closed_on_time_orders_count"]))))))},t}(o.a.PureComponent),Qt=h.c.get("pmi_statistics"),Ut=Object(c.b)(qt,V(Qt.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("PMIStats"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),Zt={series:[{type:"pie",silent:!0,radius:["80%","95%"],labelLine:{normal:{show:!1}},data:[{value:100}],itemStyle:{normal:{color:"#00b0f0AA",borderWidth:1,borderColor:"#00b0f0"}}}]},Jt=function(e,t){return{series:[{type:"pie",silent:!0,radius:["80%","95%"],labelLine:{normal:{show:!1}},data:[{value:t},{value:e-t,itemStyle:{normal:{color:"transparent"}}}],itemStyle:{normal:{color:{image:Ft,repeat:"repeat"},borderWidth:1,borderColor:"#92d050"}}}]}};function Vt(e){var t,n,r=e.name,a=e.baseRadius,i=e.plan,c=e.closed,l=e.closedOnTime,s=e.rate;return t=n=a,c>i?t*=.87:n*=.87,o.a.createElement("div",{className:"chart column"},o.a.createElement("h2",null,r),o.a.createElement("div",{className:"chart-container"},o.a.createElement("div",{className:"donut-chart"},o.a.createElement("div",{className:"centered",style:{left:t/2+"px"}},o.a.createElement("p",null,i)),o.a.createElement(Wt,{id:r+"all",width:t,height:t,option:Zt})),o.a.createElement("div",{className:"donut-chart"},o.a.createElement("div",{className:"centered",style:{left:n/2+"px"}},o.a.createElement("p",null,c),o.a.createElement("p",null,s)),o.a.createElement(Wt,{id:r+"closed",width:n,height:n,option:Jt(c,l)}))))}n(2043);var Kt,Xt,$t,en,tn,nn,rn,an=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return an(t,e),t}(It.a),cn=(n(2134),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),ln=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sn={accept:"accepted_order_count",done:"finished_order_count",rate:"service_rate",workHour:"total_work_hour",responseTime:"response_time",workerPerf:"personnel_performance",average:"dept_average"},un=["received","closed","effort","responseTime","rating"],pn=["received","closed","lgEffort","lgResponseTime","rating"],fn=["avgReceived","avgClosed","avgEffort","avgResponseTime","avgRating"],mn=["avgReceived","avgClosed","lgAvgEffort","lgAvgResponseTime","avgRating"],dn=["maxReceived","maxClosed","lgMaxEffort","lgMaxResponseTime","maxRating"],hn=["minReceived","minClosed","lgMinEffort","lgMinResponseTime","minRating"],yn={staffName:"-",clinicalDeptPerformance:void 0},vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={staff:yn},t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"personnel_performance"===n?void 0:"personnel_performance"})},t}return ln(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=j()().format(Ae.b);e({type:"dashboard2/get/staff-perf",payload:{from:j()().subtract(this._config.month.value,"month").format(Ae.b),to:t}})},t.prototype.componentDidMount=function(){this._config=h.c.get("personnel_performance")},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.data;n!==this.props.data&&(this._pagination&&this._pagination.unsubscribe(),this._pagination=Ye.Observable.timer(0,this._config.intervalPerPage).do(function(e){return t.setState({staff:n[e%n.length]||yn})}).subscribe())},t.prototype.componentWillUnmount=function(){this._pagination.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.fontSize,o=e.fullscreened;o&&(r*=3);var i=this.state.staff,c=un.map(function(e){return i[e]||0}),l=pn.map(function(e){return"lgResponseTime"===e?-i[e]:i[e]||0}),s=i.clinicalDeptPerformance,u=s?fn.map(function(e){return s[e]}):[],p=s?mn.map(function(e){return"lgAvgResponseTime"===e?-s[e]:s[e]}):[],f=s?dn.map(function(e){return s[e]}):c,m=s?hn.map(function(e){return s[e]}):c,d=[sn.accept,sn.done,sn.workHour,sn.responseTime,sn.rate].map(t),h=.45*n.width,y=.7*n.height,v=function(e,t,n,r,a,o){var i=.657*t,c=.75*i,l=Object(Ie.i)([e(sn.accept),e(sn.done),e(sn.workHour),e(sn.responseTime),e(sn.rate)],a,o,function(t,n,r){return t===e(sn.responseTime)?{name:t,max:-r,min:-n}:{name:t,max:n,min:r}});return{legend:{data:[e(Kt||(Kt=cn(["personnel_performance"],["personnel_performance"]))),e(Xt||(Xt=cn(["dept_average"],["dept_average"])))],top:0,right:0,textStyle:{fontSize:i,color:"#fff",fontFamily:["sans-serif","GE CHS"]},orient:"vertical",itemWidth:c,itemHeight:c,itemGap:c/2,seletedMode:!1},radar:{indicator:l,name:{fontSize:i},nameGap:4,center:["45%","65%"],silent:!0,radius:"70%"},series:{type:"radar",silent:!0,data:[{value:n,name:e($t||($t=cn(["personnel_performance"],["personnel_performance"]))),symbol:"none",lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"#ffc000"}},areaStyle:{normal:{opacity:.5}}},{value:r,name:e(en||(en=cn(["dept_average"],["dept_average"]))),symbol:"none",lineStyle:{normal:{width:0}},itemStyle:{normal:{color:"#00b0f0"}},areaStyle:{normal:{opacity:.5}}}]}}}(t,r,l,p,f,m);return a.createElement(ne,{className:"personnel-performance",style:{fontSize:o?"4em":""}},a.createElement("h1",{onClick:this._toggleFullscreen},t(tn||(tn=cn(["personnel_performance"],["personnel_performance"])))),a.createElement("div",{className:"chart"},a.createElement(_n,{name:i.staffName,deptScore:u,staffScore:c,labels:d,t:t}),a.createElement("div",{className:"radar-chart"},a.createElement(on,{id:"pp-radar",width:h,height:y,option:v}))))},t}(a.PureComponent),bn=h.c.get("personnel_performance"),gn=Object(c.b)(vn,V(bn.interval,"getData"),Te,Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("StaffPerf"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}}));function _n(e){var t=e.name,n=e.deptScore,r=e.staffScore,o=e.labels,i=e.t,c=Object(Ie.i)(o,n,r,function(e,t,n){return{label:e,dept:t,staff:n}});return a.createElement("div",{className:"pp-table"},a.createElement("div",{className:"header level"},a.createElement("div",{className:"level-left level-item"},a.createElement("span",{className:"pp-table-label"},i(nn||(nn=cn(["personnel_name"],["personnel_name"])))),a.createElement("span",null,t)),a.createElement("div",{className:"level-right level-item"},a.createElement("span",{className:"pp-table-label"},i(rn||(rn=cn(["dept_average"],["dept_average"])))))),a.createElement("div",{className:"pp-body"},c.map(function(e){var t=e.label,n=e.dept,r=e.staff;return a.createElement(On,{key:t,label:t,value:r,average:n})})))}function On(e){var t=e.label,n=e.value,r=e.average;return a.createElement("div",{className:"pp-tr level"},a.createElement("div",{className:"level-left level-item"},a.createElement("span",{className:"pp-body-label"},t),a.createElement("span",{className:"pp-body-value"},n)),a.createElement("div",{className:"level-right level-item"},a.createElement("span",{className:"pp-body-average"},r||"-")))}var wn,En,jn,Pn,Sn,An,Cn,Nn,kn,zn,Rn,Dn,xn,In,Mn,Wn,Tn,Hn,Fn,Yn,Gn,Bn,Ln,qn,Qn,Un,Zn,Jn,Vn,Kn,Xn,$n,er,tr,nr,rr,ar=n(2066),or=(n(2132),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),ir=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"dept_top_5"===n?void 0:"dept_top_5"})},t}return ir(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/dept-top5"})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.data,o=e.fontSize,i=e.fullscreened;i&&(o*=3);var c=.85*n.width,l=.7*n.height,s=function(e,t,n){var r=n.reduce(function(e,t){if(t){var n=t.total,r=t.available,a=t.clinicalDept;e.totals.unshift(n),e.availables.unshift(r),e.clinicalDepts.unshift(a)}return e},{totals:[],availables:[],clinicalDepts:[]}),a=r.totals,o=r.availables,i=r.clinicalDepts,c=.657*t,l=c/2;return{color:["#176591","#c1e2f5"],textStyle:{fontSize:c,color:"#fff",fontFamily:"GE CHS"},legend:{data:[e(wn||(wn=or(["assets_total_count"],["assets_total_count"]))),e(En||(En=or(["available_assets_count"],["available_assets_count"])))],bottom:0,textStyle:{color:"#fff"},itemWidth:c,itemHeight:c,itemGap:c},grid:{left:"3%",right:"4%",bottom:"13%",top:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{color:"#333"}},axisLabel:{color:"#fff",fontSize:c,margin:5}},yAxis:{type:"category",data:i,axisLabel:{color:"#fff",fontSize:c}},series:[{name:e(jn||(jn=or(["assets_total_count"],["assets_total_count"]))),type:"bar",barWidth:l,data:a},{name:e(Pn||(Pn=or(["available_assets_count"],["available_assets_count"]))),type:"bar",barGap:0,barWidth:l,data:o,barCategoryGap:0}]}}(t,o,r);return a.createElement(ne,{className:"dept-top5",style:{fontSize:i?"4em":""}},a.createElement("h1",{onClick:this._toggleFullscreen},t("dept_top_5")),a.createElement("div",{className:"bar-chart"},a.createElement(ar.a,{id:"dept-top5-chart",width:c,height:l,option:s})))},t}(a.PureComponent),lr=h.c.get("dept_top_5"),sr=Object(c.b)(cr,V(lr.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("DeptTop5"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),ur=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"asset_type_top_5"===n?void 0:"asset_type_top_5"})},t}return pr(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/asset-top5"})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.data,o=e.fontSize,i=e.fullscreened;i&&(o*=3);var c=.85*n.width,l=.7*n.height,s=function(e,t,n){if(n){var r=n.reduce(function(e,t){if(t){var n=t.total,r=t.available,a=t.assetGroup;e.totals.unshift(n),e.availables.unshift(r),e.assetGroups.unshift(a)}return e},{totals:[],availables:[],assetGroups:[]}),a=r.totals,o=r.availables,i=r.assetGroups,c=.657*t,l=c/2;return{color:["#176591","#c1e2f5"],textStyle:{fontSize:c,color:"#fff",fontFamily:"GE CHS"},legend:{data:[e(Sn||(Sn=ur(["assets_total_count"],["assets_total_count"]))),e(An||(An=ur(["available_assets_count"],["available_assets_count"])))],bottom:0,textStyle:{color:"#fff"},itemWidth:c,itemHeight:c,itemGap:c},grid:{left:"3%",right:"4%",top:"3%",bottom:"13%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{color:"#333"}},axisLabel:{color:"#fff",fontSize:c,margin:5}},yAxis:{type:"category",data:i,axisLabel:{color:"#fff",fontSize:c}},series:[{name:e(Cn||(Cn=ur(["assets_total_count"],["assets_total_count"]))),type:"bar",barGap:0,barWidth:l,data:a},{name:e(Nn||(Nn=ur(["available_assets_count"],["available_assets_count"]))),type:"bar",barWidth:l,data:o}]}}}(t,o,r);return a.createElement(ne,{className:"asset-top5",style:{fontSize:i?"4em":""}},a.createElement("h1",{onClick:this._toggleFullscreen},t("asset_type_top_5")),a.createElement("div",{className:"bar-chart"},a.createElement(ar.a,{id:"asset-top5-chart",width:c,height:l,option:s})))},t}(a.PureComponent),mr=h.c.get("asset_type_top_5"),dr=Object(c.b)(fr,V(mr.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("AssetTop5"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),hr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},vr=["rgb(255,152,0)","rgb(255,87,34)","rgb(121,85,74)","rgb(158,158,158)","rgb(96,125,139)"],br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"malfunction_type"===n?void 0:"malfunction_type"})},t}return hr(t,e),t.prototype.getData=function(){var e=this.props.dispatch,t=h.c.get("malfunction_type"),n=j()().format(Ae.b);e({type:"dashboard2/get/malfunction-type",payload:{from:j()().subtract(t.month.value,"month").format(Ae.b),to:n}})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.data,o=e.fontSize,i=e.fullscreened;i&&(o*=3);var c=.85*n.width,l=.7*n.height,s=function(e,t){if(t){var n=new Array,r=new Array;t.forEach(function(e){n.push({name:e.faultName,icon:"circle"}),r.push({name:e.faultName,value:e.count})});var a=.63*e;return{color:vr,legend:{selectedMode:!1,orient:"vertical",right:"15%",top:"10%",textStyle:{color:"#fff"},data:n,itemWidth:a,itemHeight:a,itemGap:a},textStyle:{fontSize:a,color:"#fff",fontFamily:"GE CHS"},series:[{type:"pie",radius:"75%",center:["25%","50%"],silent:!0,data:r,label:{normal:{formatter:"{c}"}},labelLine:{normal:{show:!1,length:5,length2:0}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}(o,r);return a.createElement(ne,{className:"malfunc-type",style:{fontSize:i?"4em":""}},a.createElement("h1",{onClick:this._toggleFullscreen},t(kn||(kn=yr(["malfunction_type"],["malfunction_type"])))),a.createElement("div",{className:"malfunc-chart"},a.createElement(Wt,{id:"malfunc-chart",width:c,height:l,option:s})))},t}(a.PureComponent),gr=h.c.get("malfunction_type"),_r=Object(c.b)(br,V(gr.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("MalfuncType"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),Or=(n(2042),n(2022),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Or(t,e),t}(It.a),Er=(n(2130),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),jr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},Sr=["#004d86","#023c56","#035124","#ac4600","#aa0a52","#8a578b"],Ar=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={fullSize:!1},t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"repire_statistics"===n?void 0:"repire_statistics"})},t}return jr(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/maintenance-stats",payload:{groupBy:Object(c.a)(function(){return h.c.get("repire_statistics").groupBy.value},"m")}})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.data,o=e.fontSize;o=e.fullscreened?3*o:o;var i=n.width+2.5*o,c=n.height-4*o,l=function(e,t,n){var r=n.topGroups,a=Pr(n.stats,[]);if(void 0!==r&&void 0!==a){var o=.6*t,i=.75*o,c=o/2,l={fontSize:o,color:"#fff",fontFamily:["sans-serif","GE CHS"]},s=Object.keys(a).sort().reduce(function(e,t){var n=a[t],r=Object(Ie.f)(n,function(e){return e?e.closed:0});return e.closedBar.push(r),e.xAxisData.push({value:t,textStyle:l}),e.lines.push(n.map(function(e){return e?e.closed:0})),e},{closedBar:new Array,lines:new Array,xAxisData:new Array}),u=s.closedBar,p=s.lines,f=s.xAxisData,m=r.reduce(function(e,t,n){var r=t.name;return e.legendData.push({name:r,icon:"roundRect"}),e.series.push(function(e,t){return{name:e,type:"line",stack:"total",areaStyle:{normal:{}},showSymbol:!1,lineStyle:{normal:{width:0}},smooth:!0,data:t}}(r,p.map(function(e){return e[n]}))),e},{legendData:new Array,series:new Array}),d=m.legendData,h=m.series,y=Sr.slice(0,d.length).concat(["#fff"]);return{textStyle:l,legend:{data:d.concat([{name:e(zn||(zn=Er(["closed_orders_count"],["closed_orders_count"]))),icon:"roundRect"}]),bottom:0,textStyle:l,itemWidth:i,itemHeight:i,itemGap:i/2},color:y,grid:{left:"3%",top:o+2,bottom:"12%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:f}],yAxis:{show:!1},series:h.concat([{name:e(Rn||(Rn=Er(["closed_orders_count"],["closed_orders_count"]))),type:"bar",barWidth:c,label:{normal:{show:!0,position:"top",distance:1,fontSize:o}},data:u}])}}}(t,o,r);return a.createElement(ne,{className:"repair-statistics",style:{fontSize:o}},a.createElement("h1",{onClick:this._toggleFullscreen},t(Dn||(Dn=Er(["repire_statistics"],["repire_statistics"])))),a.createElement("div",{className:"repair-statistics-chart"},a.createElement(wr,{id:"repair-statistics-chart",width:i,height:c,option:l})))},t}(a.PureComponent),Cr=h.c.get("repire_statistics"),Nr=Object(c.b)(Ar,V(Cr.interval,"getData"),Object(i.translate)(["common","dashboard2"]),Te,Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("MaintenanceStats"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),kr=n(18),zr=n.n(kr),Rr=(n(2128),function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}),Dr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xr=new zr.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#204f68"},{offset:.5,color:"#47aae1"},{offset:1,color:"#204f68"}]),Ir=new zr.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0f4c49"},{offset:.5,color:"#1c8c87"},{offset:1,color:"#0f4c49"}]),Mr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._toggleFullscreen=function(){var e=t.props,n=e.fullscreened;(0,e.dispatch)({type:"dashboard2/set/fullscreened",payload:"crutial_assets_open_rate"===n?void 0:"crutial_assets_open_rate"})},t}return Dr(t,e),t.prototype.getData=function(){(0,this.props.dispatch)({type:"dashboard2/get/open-rate"})},t.prototype.render=function(){var e=this.props,t=e.t,n=e.clientRect,r=e.data,o=e.fontSize,i=e.fullscreened;i&&(o*=3);var c=r.reduce(function(e,t){var n=t.amount,r=t.inUseRate,a=t.assetGroup;return e.leftData.push(n),e.rightData.push(Number.parseInt(r.slice(0,-1))),e.labels.push(a),e},{leftData:new Array,rightData:new Array,labels:new Array}),l=c.leftData,s=c.rightData,u=c.labels,p=function(e,t,n){var r=.657*t,a=r;return{title:{text:e(xn||(xn=Rr(["assets_total_count"],["assets_total_count"]))),right:0,textStyle:{fontSize:r,color:"#fff"}},textStyle:{fontSize:r,color:"#fff",fontFamily:["GE CHS","sans-serif"]},color:[xr],grid:{left:"3%",right:"4%",bottom:"3%",top:"13%",containLabel:!0},xAxis:{type:"value",silent:!0,inverse:!0,boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{color:"#333"}},axisLabel:{color:"#fff",fontSize:r}},yAxis:{type:"category",silent:!0,data:new Array(n.length).fill(""),axisTick:{inside:!0}},series:[{name:e(In||(In=Rr(["assets_total_count"],["assets_total_count"]))),type:"bar",barWidth:a,label:{normal:{show:!0,position:"left",color:"#fff"}},data:n}]}}(t,o,l),f=function(e,t,n,r){var a=.657*t,o=a,i=Object(Ie.c)(r,function(e){return e.length})||"";return r=r.map(function(e){return e+" ".repeat(i.length-e.length)}),{title:{text:e(Mn||(Mn=Rr(["operation_rate"],["operation_rate"]))),left:a*i.length+"px",textStyle:{fontSize:a,color:"#fff"}},textStyle:{fontSize:a,color:"#fff",fontFamily:"GE CHS"},color:[Ir],grid:{left:"3%",right:"4%",bottom:"3%",top:"13%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{color:"#333"}},axisLabel:{color:"#fff",fontSize:a},max:100},yAxis:{type:"category",data:r,axisLabel:{color:"#fff",fontSize:a,interval:0}},series:[{name:e(Wn||(Wn=Rr(["operation_rate"],["operation_rate"]))),type:"bar",barWidth:o,data:n}]}}(t,o,s,u),m=n.width/2,d=.73*n.height;return a.createElement(ne,{className:"open-rate",style:{fontSize:i?"4em":""}},a.createElement("h1",{onClick:this._toggleFullscreen},t(Tn||(Tn=Rr(["crutial_assets_open_rate"],["crutial_assets_open_rate"])))),a.createElement("div",{className:"open-rate-chart"},a.createElement(ar.a,{id:"asset-count",width:m-3*o,height:d,option:p}),a.createElement(ar.a,{id:"asset-open-rate",width:m+3*o,height:d,option:f})))},t}(a.PureComponent),Wr=h.c.get("crutial_assets_open_rate"),Tr=Object(c.b)(Mr,V(Wr.interval,"getData"),Te,Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){var t=e.dashboard2;return{data:t.get("OpenRate"),fontSize:t.get("BaseFontSize"),fullscreened:t.get("fullscreened")}})),Hr=(n(2018),n(2060)),Fr=n.n(Hr),Yr=(n(934),n(2009)),Gr=n.n(Yr),Br=n(2041),Lr=n(2025),qr=n(2040),Qr=n.n(qr),Ur=n(2039),Zr=n.n(Ur),Jr=n(2038),Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$r=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Vr(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ea="card",ta={beginDrag:function(e){return{id:e.id,index:e.index}},endDrag:function(e,t){t.didDrop()||e.restore()}},na={drop:function(e,t,n){var r=t.getItem().index,a=e.index,o=Object(De.findDOMNode)(n).getBoundingClientRect(),i=o.top,c=o.bottom,l=o.left,s=o.right,u=t.getClientOffset(),p=u.x,f=u.y;Object(Jr.a)(p,l,s)&&Object(Jr.a)(f,i,c)&&(e.swapCard(r,a),t.getItem().index=a)},hover:Object(Ie.g)(function(e,t,n){var r=t.getItem();if(null!==r){var a=r.index,o=r.id,i=e.index;if(o!==e.id&&a[0]!==i[0]){var c=Object(De.findDOMNode)(n).getBoundingClientRect(),l=c.top,s=c.bottom,u=c.left,p=c.right,f=c.height,m=t.getClientOffset(),d=m.x,h=m.y,y=f/4;Object(Jr.a)(d,u,p)&&Object(Jr.a)(h,l,s)&&(Object(Jr.a)(h,l,l+y)&&e.insertPlaceholder(i,0),Object(Jr.a)(h,s-y,s)&&e.insertPlaceholder(i,1))}}},1e3)},ra={drop:function(e,t){var n=t.getItem().index;3!==n[0]&&e.removeCard(n)}},aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kr(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.isDragging,r=e.isOver,a=e.connectDragSource,i=e.connectDropTarget,c=n?.5:1,l=r?{backgroundColor:"#054f6b",border:"1px dashed gray"}:{};return a(i(o.a.createElement("div",{className:"component-card",style:Xr({opacity:c},l)},t)))},t=$r([Object(Lr.DropTarget)(ea,na,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}),Object(Lr.DragSource)(ea,ta,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})],t)}(a.Component),oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kr(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.connectDropTarget,r=e.isOver?{backgroundColor:"#111"}:{};return n(o.a.createElement("div",{className:"backup-cards",style:r},t))},t=$r([Object(Lr.DropTarget)(ea,ra,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0})}})],t)}(o.a.Component),ia=n(2024),ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sa=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ua=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ca(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},pa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={initialCards:new Array,initialFlyby:"",cards:new Array,flyby:""},t.flybyChange=function(e){var n=e.target.value;t.setState({flyby:n}),t.props.onFlybyChange(n)},t.removeCard=function(e){var n=e[0],r=e[1],a=t.state.cards;if(3===r||1!==a[n].length){var o=a[n].splice(r,1)[0];a[3].push(o),a=(new Array).concat(a),t.setState({cards:a},function(){return t.props.onLayoutChange(a)})}else Gr.a.warn(t.props.t(Hn||(Hn=sa(["error.remove_last"],["error.remove_last"]))))},t.swapCard=function(e,n){var r=t.state.cards;Object(c.t)(r,n,e),r=(new Array).concat(r),t.removePlaceholder(r),t.setState({cards:r},function(){t.props.onLayoutChange(r)})},t.insertPlaceholder=function(e,n){var r=t.state.cards;if(4===r[e[0]].length)return Gr.a.destroy(),void Gr.a.warn(t.props.t(Fn||(Fn=sa(["error.at_most_4"],["error.at_most_4"]))));t.removePlaceholder(r),r[e[0]].splice(e[1]+n,0,{key:"placeholder"}),r=(new Array).concat(r),t.setState({cards:r},function(){return t.props.onLayoutChange(r)})},t.restoreCard=function(){t.setState({cards:Object(c.q)(t.state.initialCards)})},t.removePlaceholder=function(e){e.forEach(function(e){Object(Ie.e)(e,function(e){return"placeholder"===e.key})})},t.config2Card=function(e,n){var r=e.key,a=e.title;return o.a.createElement(aa,{key:r,id:r,index:n,text:a,swapCard:t.swapCard,insertPlaceholder:t.insertPlaceholder,restore:t.restoreCard})},t}return la(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.layout,n=e.flyby;this.setState({initialCards:t,cards:Object(c.q)(t),flyby:n,initialFly:n})},t.prototype.render=function(){var e=this.state,t=e.cards,n=e.flyby,r=Object(ia.a)(t,this.config2Card);return o.a.createElement("div",{className:"dnd-area columns"},o.a.createElement("div",{className:"fake-monitor column is-three-quarters"},o.a.createElement("div",{className:"header-area"},o.a.createElement("input",{className:"flyby-text-input",type:"text",value:n,onChange:this.flybyChange}),o.a.createElement("a",{onClick:this.restoreCard},o.a.createElement(v.a,{name:"refresh"}))),o.a.createElement(q,{config:r.slice(0,3)})),o.a.createElement("div",{className:"column"},o.a.createElement("h2",null,o.a.createElement(v.a,{name:"exchange"})),o.a.createElement(oa,{removeCard:this.removeCard},r[3])))},t=ua([Object(i.translate)(),Object(Lr.DragDropContext)(Br.a.any()?Zr()({enableMouseEvents:!0}):Qr.a)],t)}(o.a.PureComponent),fa=(n(2126),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ma=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._config={layout:[],flyby:""},t}return fa(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.show,r=t.flyby,a=t.layout,i=t.t,c=t.onOk,l=t.onCancel;return o.a.createElement(Fr.a,{className:"layout-config-modal",closable:!1,visible:n,onOk:function(){return c(e._config)},onCancel:l,okText:i(Yn||(Yn=ma(["save"],["save"]))),cancelText:i(Gn||(Gn=ma(["cancel"],["cancel"]))),width:"65%"},o.a.createElement("div",{className:"config-modal-content"},o.a.createElement(pa,{flyby:r,layout:Object(ia.a)(a,function(e){return{key:e,title:i(e)}}),onLayoutChange:function(t){return e._config.layout=t},onFlybyChange:function(t){return e._config.flyby=t}})))},t}(o.a.PureComponent),ha=Object(i.translate)(["common","dashboard2"])(da),ya=(n(2021),n(2056)),va=n.n(ya),ba=n(2075),ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oa=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},ja=va.a.Item,Pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.t,r=t.form,a=t.config,i=a.interval,l=a.rangeInterval,s=a.intervalPerPage,u=a.rangeIntervalPerPage,p=Ea(a,["interval","rangeInterval","intervalPerPage","rangeIntervalPerPage"]),f=r.getFieldDecorator;return o.a.createElement(va.a,{className:"interval-config-form"},o.a.createElement(ja,{label:n(Bn||(Bn=Oa(["request_interval"],["request_interval"])))},f("interval",{initialValue:Object(ba.a)(i),rules:[{required:!0,message:n(Ln||(Ln=Oa(["msg.err.required"],["msg.err.required"])))},{validator:function(t,r,a){var o,i=l[0],s=l[1];Object(c.h)(6e4*+r,i||-1/0,s||1/0)||(o=n("interval_not_in_range",{name:n(qn||(qn=Oa(["request_interval"],["request_interval"])))})+": "+e._localizeRange(l,function(e){return Object(ba.a)(e)+n(Qn||(Qn=Oa(["unit_min"],["unit_min"])))})),a(o)}}]})(o.a.createElement("input",{className:"material-input dark is-fullwidth",type:"number"})),o.a.createElement("span",null,n(Un||(Un=Oa(["unit_min"],["unit_min"]))))),s&&o.a.createElement(ja,{label:n(Zn||(Zn=Oa(["page_interval"],["page_interval"])))},f("intervalPerPage",{initialValue:Object(ba.b)(s),rules:[{required:!0,message:n(Jn||(Jn=Oa(["msg.err.required"],["msg.err.required"])))},{validator:function(t,r,a){var o,i=u[0],l=u[1];Object(c.h)(1e3*+r,i||-1/0,l||1/0)||(o=n("interval_not_in_range",{name:n(Vn||(Vn=Oa(["request_interval"],["request_interval"])))})+": "+e._localizeRange(u,function(e){return Object(ba.b)(e)+n(Kn||(Kn=Oa(["unit_sec"],["unit_sec"])))})),a(o)}}]})(o.a.createElement("input",{className:"material-input dark is-fullwidth",type:"number"})),o.a.createElement("span",null,n(Xn||(Xn=Oa(["unit_sec"],["unit_sec"]))))),Object.keys(p).map(function(e){var t=p[e];switch(t.type){case"enum":return o.a.createElement(ja,{key:e,label:n("config."+e+".title")},f(e,{initialValue:t,getValueFromEvent:function(e){return wa({},t,{value:e.target.value})},rules:[{required:!0,message:n($n||($n=Oa(["msg.err.required"],["msg.err.required"])))}]})(o.a.createElement("div",{className:"is-fullwidth"},o.a.createElement("select",{className:"material-input dark",defaultValue:t.value},(t.enum||[]).map(function(t){return o.a.createElement("option",{key:t,value:t},n("config."+e+".values."+t))})))));case"number":return o.a.createElement(ja,{key:e,label:n("config."+e+".title")},f(e,{initialValue:t.value,getValueProps:function(e){return"object"===(void 0===e?"undefined":ga(e))?{value:e.value}:{value:e}},normalize:function(e){return"number"==typeof e?wa({},t,{value:e}):e},getValueFromEvent:function(e){return wa({},t,{value:+e.target.value})},rules:[{required:!0,message:n(er||(er=Oa(["msg.err.required"],["msg.err.required"])))}]})(o.a.createElement("input",{className:"material-input dark is-fullwidth",type:"number"})),o.a.createElement("span",null,n("config."+e+".unit")));default:return null}}))},t.prototype._localizeRange=function(e,t){void 0===t&&(t=function(e){return String(e)});var n=this.props.t,r=e[0],a=e[1];return r===-1/0||null==r?n("under_x",{num:t(e[1])}):a===1/0||null==a?n("above_x",{num:t(e[0])}):n("in_range_x_y",{num1:t(e[0]),num2:t(e[1])})},t}(o.a.PureComponent),Sa=Object(c.b)(Pa,Object(i.translate)(["common","dashboard2"]),va.a.create()),Aa=(n(2124),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ca=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:void 0},t.onChooseComponent=function(e){var n=e.key;t.setState({component:n})},t.formRef=function(e){return t._form=e},t.onOk=function(){t._form.validateFields(function(e,n){e||(t._form.resetFields(),n.interval=6e4*+n.interval,n.intervalPerPage=1e3*+n.intervalPerPage,t.props.onOk(t.state.component,n,t._form.isFieldsTouched))})},t}return Aa(t,e),t.prototype.render=function(){var e=this.props,t=e.show,n=e.t,r=e.onCancel,a=this.state.component,i=h.c.get(a)||{},c=o.a.createElement(u.a,{theme:"dark",onClick:this.onChooseComponent},Object.keys(Ya).map(function(e){return o.a.createElement(u.a.Item,{key:e},o.a.createElement("a",null,n(e)))}));return o.a.createElement(Fr.a,{className:"interval-config-modal",closable:!1,visible:t,onOk:this.onOk,onCancel:r,okText:n(tr||(tr=Ca(["save"],["save"]))),cancelText:n(nr||(nr=Ca(["cancel"],["cancel"]))),width:"30%"},o.a.createElement("div",{className:"config-modal-content"},o.a.createElement(f.a,{overlay:c},o.a.createElement("a",{className:"ant-dropdown-link"},o.a.createElement("span",null,n(a||(rr||(rr=Ca(["choose_component"],["choose_component"]))))),o.a.createElement(v.a,{name:"caret-down"}))),a&&o.a.createElement(Sa,{config:i,ref:this.formRef})))},t}(o.a.PureComponent),ka=Object(i.translate)(["common","dashboard2"])(Na),za=(n(2037),n(2055)),Ra=n.n(za),Da=(n(2122),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),xa=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ia=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectedOrgs:h.a.get("hc-apm-orgs")},n.onOrgSelect=function(e){n.setState({selectedOrgs:e})},n.onCancel=function(){n.setState({selectedOrgs:h.a.get("hc-apm-orgs")}),n.props.onCancel()},t.dispatch({type:"dashboard2/get/org-tree"}),n}return Da(t,e),t._recursivelyMapSubOrgs=function(e){var t=this;return Object(c.k)(e)?[]:e.map(function(e){return{label:e.name,value:String(e.id),key:e.id,children:t._recursivelyMapSubOrgs(e.subOrgList)}}).sort(function(e,t){return Object(c.k)(e.children)&&!Object(c.k)(t.children)?1:!Object(c.k)(e.children)&&Object(c.k)(t.children)?-1:e.label.localeCompare(t.label,"zh")})},t.prototype.render=function(){var e=this.props,n=e.show,r=e.t,a=e.onOk,i=e.orgTree,c=this.state.selectedOrgs;return i=t._recursivelyMapSubOrgs(i),o.a.createElement(Fr.a,{className:"hierarchy-config-modal",closable:!1,visible:n,onOk:function(){return a(c)},onCancel:this.onCancel,okText:r(Ma||(Ma=xa(["save"],["save"]))),cancelText:r(Wa||(Wa=xa(["cancel"],["cancel"]))),width:"65%"},o.a.createElement("div",{className:"config-modal-content"},o.a.createElement("h2",null,r(Ta||(Ta=xa(["choose_orgs"],["choose_orgs"])))),o.a.createElement(Ra.a,{showSearch:!0,value:c||void 0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},allowClear:!0,multiple:!0,treeDefaultExpandAll:!0,treeNodeFilterProp:"label",onChange:this.onOrgSelect,treeData:i})))},t}(o.a.PureComponent);var Ma,Wa,Ta,Ha=Object(c.f)(Ia,Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){return{orgTree:e.dashboard2.get("orgTree")}}));n(2120);n.d(t,"COMPONENTS",function(){return Ya}),n.d(t,"Dashboard",function(){return Ga});var Fa=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=((Ba={}).assets_overview=Se,Ba.repire_statistics=Nr,Ba.crutial_assets_open_rate=Tr,Ba.life_support_assets_perfectness_ratio=Dt,Ba.work_order=rt,Ba.pmi_order=Ot,Ba.event_overview=Re,Ba.pmi_statistics=Ut,Ba.dept_top_5=sr,Ba.asset_type_top_5=dr,Ba.personnel_performance=gn,Ba.malfunction_type=_r,Ba),Ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showLayoutConfig:!1,showIntervalConfig:!1,showHierarchyConfig:!1},t.onLayoutOk=function(e){var n=e.layout,r=e.flyby,a=Object(c.d)(n,function(e){return e.key}),o=a.slice(0,3),i=a[3];!Object(c.k)(o)&&h.c.set("dashboard2-layout",o),!Object(c.k)(i)&&h.c.set("dashboard2-backup",i),h.c.set("dashboard2-flyby",r||""),t.reload()},t.onIntervalOk=function(e,n,r){r?(h.c.set(e,Object(c.l)(h.c.get(e),n)),t.reload()):t.onCancel()},t.onHierarchyOk=function(e){h.a.set("hc-apm-orgs",e),t.reload()},t.onCancel=function(){t.setState({showLayoutConfig:!1,showIntervalConfig:!1,showHierarchyConfig:!1})},t.getDashboardStyle=function(){var e,r=t.state.viewportHeight,a=Object(c.c)(function(){return Object(c.n)(t.props.location.search)},{}).bg;try{a&&(e=n(2118)("./bg"+a+".png"))}catch(e){console.error("background image does not exist: "+a)}return{height:r,fontSize:t.isStandalone?void 0:.0165*r+"px",overflow:t.isStandalone?void 0:"hidden",backgroundImage:a&&e?"url("+e:void 0}},t}return Fa(t,e),t.prototype.reload=function(){window.location.reload()},t.prototype.render=function(){var e=this,t=this.props,n=t.history,r=t.fullscreened,o=this.state,i=o.showLayoutConfig,s=o.showIntervalConfig,u=o.showHierarchyConfig,p=.88*(o.viewportHeight||0),f=r?[[r]]:h.c.get("dashboard2-layout"),m=h.c.get("dashboard2-backup"),d=h.c.get("dashboard2-flyby"),y=Object(c.d)(f,function(e){var t=Ya[e];return t?a.createElement(t,null):"Unknown component key: "+e+", stale localStorage?"});return a.createElement("div",{className:"dashboard dashboard2",style:this.getDashboardStyle()},a.createElement(Y,{flyby:d,hospitalName:Object(l.b)(),history:n,style:{visibility:this.isStandalone||"hidden"},onHierachyConfig:function(){return e.setState({showHierarchyConfig:!0})},onLayoutConfig:function(){return e.setState({showLayoutConfig:!0})},onIntervalConfig:function(){return e.setState({showIntervalConfig:!0})}}),a.createElement(q,{style:{height:p},config:y}),a.createElement(ha,{show:i,flyby:d,layout:f.concat([m]),onOk:this.onLayoutOk,onCancel:this.onCancel}),a.createElement(ka,{show:s,onOk:this.onIntervalOk,onCancel:this.onCancel}),a.createElement(Ha,{show:u,onOk:this.onHierarchyOk,onCancel:this.onCancel}))},t}(l.a);var Ba;t.default=Object(c.f)(Ga,Object(i.translate)(["common","dashboard2"]),Object(U.connect)(function(e){return{fullscreened:e.dashboard2.get("fullscreened")}}))}}]);